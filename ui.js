(()=>{var e,t,a,r={19748:(e,t,a)=>{"use strict";var r=a(67294),n=a(73935),s=a(39711),l=a(96974),c=a(39665);function o({cx:e,cy:t,fill:a,r:n},s){return r.createElement("circle",{cx:e,cy:t,fill:a,key:s,r:n})}const i=r.memo((function({value:e="",className:t="",isAlternative:a=!1,size:n,style:s}){try{return r.createElement("svg",{className:t,height:n,id:e||void 0,name:e||void 0,style:s,viewBox:"0 0 64 64",width:n},(0,c.i)(e||"",{isAlternative:a}).map(o))}catch(e){return null}}));var m=a(66598),d=a(12902),u=a(46461);function g(...e){return(0,u.m)(...e.map((e=>e||null)))}function p(e,t=6){return e?`${e.substring(0,t)}...${e.substring(e.length-t)}`:""}function h(e,t="d MMM"){return(0,m.Z)((0,d.Z)(e),t)}function f(e){return/^0x[0-9a-fA-F]{64}$/.test(e)}function y(e){return"{}"===JSON.stringify(e)}var E,b=a(13550),v=a.n(b);!function(e){e.LOCAL="ws://127.0.0.1:9944",e.CANVAS="wss://rococo-canvas-rpc.polkadot.io"}(E||(E={}));const x=new(v())(2e12),N={systemName:null,systemVersion:null,tokenDecimals:12,tokenSymbol:"Unit"},w={...N,endpoint:E.LOCAL,keyringStatus:null,error:null,status:"CONNECT_INIT"};var k=a(53416);function C(){return(0,k.x0)(8)}var S=a(84553),I=(a(2418),a(48764).Buffer);const A="user-identity";function O(e){return e?I.from(e.pubKey).toString("hex"):void 0}var T=a(72884);const D=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"https://paritytech.github.io/contracts-ui/codeBundle.schema.json","title":"CodeBundle","description":"An uploaded WASM code bundle","type":"object","properties":{"_id":{"description":"Field to contain ulid-based instance id","type":"string"},"id":{"description":"Unique url id","type":"string"},"owner":{"description":"The public key of the identity that owns this code bundle","type":"string"},"creator":{"description":"The Polkadot address that uploaded this code bundle","type":"string"},"codeHash":{"description":"The code bundle\'s unique hash","type":"string"},"abi":{"description":"The code bundle\'s associated ABI JSON","type":"object"},"name":{"description":"The code bundle\'s display name","type":"string"},"tags":{"description":"The code bundle\'s associated tags","type":"array","items":{"type":"string"},"uniqueItems":true},"date":{"description":"The deployment date for this code bundle","type":"string","format":"date-time"},"instances":{"description":"The number of instantiations of this code bundle","type":"number","minimum":0}},"required":["creator","codeHash","name","date"]}'),R=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"https://paritytech.github.io/contracts-ui/contract.schema.json","title":"Contract","description":"An instiated smart contract","type":"object","properties":{"_id":{"description":"Field to contain ulid-based instance id","type":"string"},"owner":{"description":"The public key of the Api identity that owns this contract","type":"string"},"creator":{"description":"The Polkadot address that instantiated this contract","type":"string"},"address":{"description":"The contract\'s instantiation address","type":"string"},"abi":{"description":"The contract\'s associated ABI JSON","type":"object"},"codeHash":{"description":"The code hash of the WASM module this contract was instantiated from","type":"string"},"name":{"description":"The contract\'s display name","type":"string"},"tags":{"description":"The contract\'s associated tags","type":"array","items":{"type":"string"},"uniqueItems":true},"date":{"description":"The deployment date for this code bundle","type":"string","format":"date-time"}},"required":["creator","address","abi","codeHash","name","date"]}'),V=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"https://paritytech.github.io/contracts-ui/user.schema.json","title":"User","description":"A Api UI user identity","type":"object","properties":{"_id":{"description":"Field to contain ulid-based instance id","type":"string"},"codeBundlesOwned":{"description":"Addresses of user\'s uploaded code bundles","type":"array","items":{"type":"string"}},"creator":{"description":"The Polkadot account used to create this user","type":"string"},"publicKey":{"description":"The user\'s generated Api identity public key","type":"string"},"email":{"description":"The user\'s email address","type":"string","format":"email"},"name":{"description":"The user\'s display name","type":"string"}},"required":["publicKey"]}'),$=D,F=R;function H(e){const t=e.collection("CodeBundle");if(!t)throw new Error("Code Bundle collection not found.");return t}function M(e){const t=e.collection("Contract");if(!t)throw new Error("Contract collection not found.");return t}function P(e){const t=e.collection("User");if(!t)throw new Error("User collection not found.");return t}async function j(e,t){return t&&await P(e).findOne({publicKey:O(t)})||null}async function L(e,t,{creator:a,name:r,email:n}={}){const s=await j(e,t);if(!t)return null;if(s)return s;if(t&&!s){const s=P(e).create({creator:a,name:r,email:n,publicKey:O(t)});return await s.save(),s}return Promise.reject(new Error("Unable to create user"))}async function U(e){const t=`${e}`,a=await Z(t),[r,n]=await async function(e){const t=function(){let e=window?.localStorage.getItem(A);if(e)return S._q.fromString(e);{const t=S._q.fromRandom();return e=t.toString(),window.localStorage.setItem(A,e),t}}();return[await L(e,t),t]}(a);return function(e){return e.includes("127.0.0.1")}(e)&&window.localStorage.setItem("contracts-ui:local-db-name",t),[a,r,n]}async function Z(e){let t;window.localStorage.removeItem("contracts-ui:db-version");let a=0,r=!1;for(;!r&&a<=999;)try{return t=await new T.vo(e,{name:"User",schema:V},{name:"Contract",schema:F},{name:"CodeBundle",schema:$}).open(a),r=!0,t}catch(e){a+=1}throw new Error("Unable to initialize database")}var B=a(82706);const q={owned:[]};async function _(e,t){return await M(e).findOne({address:t})||null}async function W(e,t,{abi:a,address:r,codeHash:n,creator:s,date:l=(new Date).toISOString(),name:c,tags:o=[]},i=!0){try{if(!(a&&r&&n&&s&&c))return Promise.reject(new Error("Missing required fields"));if(await M(e).findOne({address:r}))return Promise.reject(new Error("Contract already exists"));const m=await H(e).findOne({codeHash:n});m?(m.instances+=1,await m.save()):await async function(e,t,{abi:a,codeHash:r,creator:n,id:s=C(),instances:l=1,name:c,tags:o=[],date:i=(new Date).toISOString()}){try{if(!n)return Promise.reject(new Error("Missing creator address"));if(!r||!c)return Promise.reject(new Error("Missing codeHash or name"));const m=H(e).create({abi:a,codeHash:r,creator:n,id:s,name:c,owner:O(t),tags:o,date:i,instances:l});return await m.save(),Promise.resolve(m)}catch(e){return console.error(e),Promise.reject(e)}}(e,t,{abi:a,codeHash:n,creator:s,name:c,owner:O(t),tags:[],date:l,instances:1});const d=M(e).create({abi:a,address:r,codeHash:n,creator:s,name:c,owner:O(t),tags:o,date:l});return i&&B.Nn.saveContract(r,{name:c,tags:o,abi:a}),await d.save(),Promise.resolve(d)}catch(e){return console.error(e),Promise.reject(e)}}function G({db:e,identity:t},{accountId:a,codeHash:r,name:n},s){return async function({contract:l,status:c}){a&&r&&l&&(c.isInBlock||c.isFinalized)&&(await W(e,t,{abi:l.abi.json,address:l.address.toString(),creator:a,codeHash:r,name:n,tags:[]}),s&&s(l))}}function z({db:e,identity:t},{accountId:a,name:r},n){return async function(s){try{const{blueprint:l,contract:c,status:o}=s;a&&c&&(o.isInBlock||o.isFinalized)&&(await W(e,t,{abi:c.abi.json,address:c.address.toString(),creator:a,codeHash:l?.codeHash.toHex()||c.abi.info.source.wasmHash.toHex(),name:r,tags:[]}),n&&n(c,l))}catch(e){console.error(e)}}}var Y,K=a(93319),J=a(51482),Q=a(42762),X=a(65716),ee=a(31038),te=a(44485),ae=a(18409),re=a(73057),ne=a(64708);!function(e){e.Error="error",e.Success="success",e.Processing="processing",e.Queued="queued"}(Y||(Y={}));const se=new Uint8Array;function le(e){return e?.consts.system.blockWeights?e.consts.system.blockWeights.maxBlock:e?.consts.system.maximumBlockWeight||x}function ce(e=(0,te.F)()){return e instanceof ae.J?e:e&&e.length?(0,Q.N)((0,X.Y)(e)):se}const oe=()=>{};function ie(e,t){const a=(0,J.h)(t)?t.toString():t,r=new(v())(e.registry.chainDecimals[0]);if(/^(\d+)\.(\d+)$/.exec(a)){const t=new(v())(a.replace(/\.\d*$/,"")),n=a.replace(/^\d+\./,"").substr(0,e.registry.chainDecimals[0]),s=new(v())(n);return t.mul(ee.aP.pow(r)).add(s.mul(ee.aP.pow(new(v())(r.subn(n.length)))))}return new(v())(a.replace(/[^\d]/g,"")).mul(ee.aP.pow(r))}function me(e,t){const a=ee.aP.pow(new(v())(e.registry.chainDecimals[0])),[r,n]=[t.div(a),t.mod(a)];return`${r.toString()}${n.eqn(0)?"":`.${n.toString()}`}`}function de(e,t,a){return t.map((({name:t,type:{type:r}})=>{const n=a?a[t]:null;return"Balance"===r?e.createType("Balance",n):n||null}))}function ue(e){if("string"==typeof e){let t;try{t=new URL(e)}catch(e){return!1}return"ws:"===t.protocol||"wss:"===t.protocol}return!1}function ge(e,t){return t.isDevelopment?e.asInBlock:e.asFinalized}async function pe(e,t){return(await e.query.contracts.contractInfoOf(t)).unwrapOr(null)}async function he(e,t){return!!f(t)&&(await e.query.contracts.codeStorage(t)).isSome}async function fe(e,t){const a=[];for(const r of t)await he(e,r.codeHash)&&a.push(r);return a}function ye(e,t,a,r){return r?.length>0?e(t.address,a,...r):e(t.address,a)}var Ee=a(10374),be=a(90451),ve=a(36443),xe=a(13165);const Ne=new(a(62131).P);async function we(e){const[t,a,r,n,s]=await Promise.all([e.rpc.system.properties(),e.rpc.system.name(),e.rpc.system.version(),(await e.rpc.system.chain()).toString(),e.rpc.system.chainType?e.rpc.system.chainType():Promise.resolve(Ne.createType("ChainType","Live")),e.rpc.system]);return{systemName:a.toString(),systemVersion:r.toString(),systemChainType:s,systemChain:n,tokenDecimals:t.tokenDecimals.isSome?t.tokenDecimals.unwrap().toArray()[0].toNumber():12,tokenSymbol:t.tokenSymbol.isSome?t.tokenSymbol.unwrap().toArray().map((e=>e.toString()))[0]:"Unit"}}const ke=(e,t)=>{switch(t.type){case"SET_ENDPOINT":return{...e,endpoint:t.payload};case"CONNECT_INIT":return{...e,status:"CONNECT_INIT"};case"CONNECT":return{...e,api:t.payload,error:null,status:"CONNECTING"};case"CONNECT_READY":return{...e,...t.payload,error:null,status:"READY"};case"CONNECT_ERROR":return{...e,...N,status:"ERROR",error:t.payload};case"LOAD_KEYRING":return{...e,keyringStatus:"LOADING"};case"SET_KEYRING":return{...e,keyring:t.payload,keyringStatus:"READY"};case"KEYRING_ERROR":return{...e,keyringStatus:"ERROR"};default:throw new Error("Unknown action type")}};function Ce(e,t){const[a,n]=(0,r.useState)((()=>{try{const a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(e){return console.error(e),t}}));return[a,t=>{try{const r=t instanceof Function?t(a):t;n(r),window.localStorage.setItem(e,JSON.stringify(r))}catch(e){console.error(e)}}]}const Se=r.createContext(w);let Ie=!1;const Ae=({children:e})=>{const[t]=(0,s.lr)(),a=t.get("rpc"),[n,l]=Ce("preferredEndpoint",E.LOCAL),[c,o]=(0,r.useReducer)(ke,{...w,endpoint:n}),{endpoint:i,keyringStatus:m,status:d}=c;return(0,r.useEffect)((()=>{a&&ue(a)&&a!==n&&(o({type:"SET_ENDPOINT",payload:a}),l(a),window.location.reload())}),[n,a,t,l]),(0,r.useEffect)((()=>{((e,t)=>{if(!ue(e))return!1;t({type:"CONNECT_INIT"});const a=new ve.U(e),r=new xe.G({provider:a});r.on("connected",(async()=>{t({type:"CONNECT",payload:r}),await r.isReady,t({type:"CONNECT_READY",payload:await we(r)})})),r.on("ready",(async()=>{t({type:"CONNECT_READY",payload:await we(r)})})),r.on("error",(e=>t({type:"CONNECT_ERROR",payload:e})))})(i,o)}),[i]),(0,r.useEffect)((()=>{"READY"!==d||m||Ie||(Ie=!0,((e,t)=>{const{systemChainType:a,systemChain:r}=e;t({type:"LOAD_KEYRING"}),(async()=>{try{await(0,Ee.$y)("contracts-ui");let e=await(0,Ee.vK)();e=e.map((({address:e,meta:t})=>({address:e,meta:{...t,name:`${t.name} (${t.source})`}})));const n=a.isDevelopment||a.isLocal||(0,be.s)(r);B.Nn.loadAll({isDevelopment:n},e),t({type:"SET_KEYRING",payload:B.Nn})}catch(e){console.error(e),t({type:"KEYRING_ERROR"})}})().catch((e=>console.error(e)))})(c,o))}),[c,o,d,m]),r.createElement(Se.Provider,{value:c},e)},Oe=()=>(0,r.useContext)(Se),Te=r.createContext({}),De=(Te.Consumer,Te.Provider,{isDbReady:!1});function Re({children:e}){const{status:t,endpoint:a}=Oe(),[n,s]=(0,r.useState)(De);(0,r.useEffect)((()=>{"READY"===t&&U(a).then((([e,t,a])=>{s((r=>({...r,db:e,user:t,identity:a,isDbReady:!0})))})).catch((e=>{console.error(e)}))}),[a,t]);const l=(0,r.useCallback)((async()=>{const e=await L(n.db,n.identity),t=await async function(e,t){if(!t||!e)return q;const a=await j(e,t);return a?{owned:await M(e).find({owner:a.publicKey}).toArray()}:q}(n.db,n.identity);s((a=>({...a,user:e,myContracts:t})))}),[n.db,n.identity]);return(0,r.useEffect)((()=>{n.isDbReady&&l().then().catch(console.error)}),[l,n.isDbReady]),r.createElement(Te.Provider,{value:{...n,refreshUserData:l}},e)}function Ve(){return(0,r.useContext)(Te)}const $e={data:{constructorIndex:0,value:ee.D_,name:"",weight:ee.D_},currentStep:1,tx:null,onError:oe,onSuccess:oe,onInstantiate:()=>Promise.resolve()},Fe=r.createContext($e);function He({contract:e}){return!!e}function Me({children:e}){const t=(0,l.s0)(),a=Ve(),n=Oe(),s=()=>Promise.resolve(),{codeHash:c}=(0,l.UO)(),[o,i,m,d]=function(e=0,t=3){const[a,n]=(0,r.useState)(Math.min(e,t)),s=(0,r.useCallback)((()=>{n(Math.min(t,a+1))}),[t,a]),l=(0,r.useCallback)((()=>{n(Math.max(e,a-1))}),[e,a]);return[a,s,l,n]}($e.currentStep),[u,g]=(0,r.useState)($e.data),[[p,h],f]=(0,r.useState)([null,s,null]),[y,E]=(0,r.useState)(),b=(0,r.useCallback)(((e,r)=>{t(`/contract/${e.address}`),a.refreshUserData()}),[a,t]),v=(0,r.useCallback)((async e=>{try{const t=u.metadata?.findConstructor(e.constructorIndex),a=t?.toU8a(de(n.api.registry,t.args,e.argValues)),r={origin:u.accountId,gasLimit:e.weight||le(n.api),storageDepositLimit:e.storageDepositLimit,code:c?{Existing:c}:{Upload:u.metadata?.info.source.wasm},data:a,salt:e.salt||void 0,value:e.value?n.api.registry.createType("Balance",e.value):null};if(r.origin){const e=await n.api.rpc.contracts.instantiate(r);E(e)}}catch(e){console.error(e)}}),[n.api,c,u.accountId,u.metadata]),x={data:u,setData:g,currentStep:o,dryRunResult:y,setStep:d,stepForward:i,stepBackward:m,onSuccess:b,onUnFinalize:function(){f([null,s,null]),d(2)},onFinalize:e=>{const t={...u,...e};try{const e=function(e,{argValues:t,codeHash:a,constructorIndex:r,weight:n,value:s,metadata:l,salt:c,storageDepositLimit:o}){const i=l?.info.source.wasm;if((a||i)&&l&&(0,J.h)(r)&&l&&t){const m=l.findConstructor(r),d={gasLimit:n,salt:c?ce(c):null,storageDepositLimit:o||void 0,value:s&&m.isPayable?e.registry.createType("Balance",s):void 0},u=a?new K.b8(e,l,a):new K.wi(e,l,i&&i.toU8a()),g=de(e.registry,m.args,t);return m.args.length>0?u.tx[m.method](d,...g):u.tx[m.method](d)}throw new Error("Unknown error")}(n.api,t),r=(c?G:z)(a,t,b);f([e,r,null]),g(t),i()}catch(e){console.error(e),f([null,s,"Error creating transaction"])}},onFormChange:v,tx:p,onInstantiate:h,onError:s};return r.createElement(Fe.Provider,{value:x},e)}const Pe=()=>(0,r.useContext)(Fe);var je=a(5506),Le=a(56418),Ue=a(64343),Ze=a(13902),Be=a(15186);function qe({className:e,color:t="blue-500",darkColor:a=t,strokeWidth:n=4,width:s=16}){return r.createElement("div",{style:{borderTopColor:"transparent"},className:g(`w-${s} h-${s}`,`border-${n}`,`border-${t}`,`dark:border-${a}`,"border-solid rounded-full animate-spin",e)})}const _e=({status:e})=>{switch(e){case"success":return r.createElement(Ue.Z,{key:"success",className:"text-green-400 w-12 h-12"});case"error":return r.createElement(Ze.Z,{key:"error",className:"text-red-400 w-12 h-12"});case"processing":return r.createElement(qe,{key:"processing",width:8,strokeWidth:2,className:"processing-spinner m-2 border-blue-500"});case"queued":return r.createElement(Be.Z,{key:"queued",className:g("text-blue-500 w-12 h-12")});default:return null}};function We({dismiss:e,txs:t}){const a=[];for(const n in t){const{extrinsic:s,status:l,events:c}=t[n]||{},o="error"===l||"success"===l;a.push(r.createElement(r.Fragment,null,r.createElement("div",{key:n,className:"max-w-full dark:bg-elevation-3 dark:text-white bg-gray-200 text-gray-600 p-3 flex items-center","data-cy":"transaction-queued"},r.createElement(_e,{status:l}),r.createElement("div",{className:"pl-2 flex-grow text-sm"},r.createElement("div",null,s?.registry.findMetaCall(s.callIndex).method),r.createElement("div",{className:"text-gray-400"},l)),o&&r.createElement(je.Z,{className:"text-gray-400 w-4 h-4",onClick:()=>e(parseInt(n))})),o&&c&&!y(c)&&r.createElement("div",{className:"max-w-full dark:bg-elevation-3 dark:text-white bg-gray-200 text-gray-600 p-3 mt-2 flex items-center ","data-cy":"transaction-complete"},r.createElement(Le.Z,{className:"text-yellow-400 w-12 h-12"}),r.createElement("div",{className:"pl-2 flex-grow text-sm"},Object.keys(c).map((e=>{const t=c[e]>1?` (x${c[e]})`:"";return r.createElement("div",{key:e,className:"dark:text-gray-400"},`${e}${t}`)}))),r.createElement(je.Z,{className:"text-gray-400 w-4 h-4",onClick:()=>e(parseInt(n)),"data-cy":"dismiss-notification"}))))}return r.createElement("div",{className:g("z-10 fixed right-3 top-3 w-80")},...a)}let Ge=1;const ze=r.createContext({});function Ye({children:e}){const{api:t,keyring:a,systemChainType:n}=Oe(),[s,l]=(0,r.useState)({});(0,r.useEffect)((()=>{let e;if(!y(s)){const t=[];for(const e in s)"error"!==s[e]?.status&&"success"!==s[e]?.status||t.push(parseInt(e));t.length>0&&(e=setTimeout((()=>{const e={...s};t.forEach((t=>delete e[t])),l(e)}),5e3))}return()=>clearTimeout(e)}),[s]);const c={txs:s,dismiss:function(e){const t={...s};delete t[e],l(t)},process:async function(e){const r=s[e];if(r){const{extrinsic:c,accountId:o,isValid:i,onSuccess:m,onError:d}=r;let u,g;l({...s,[e]:{...r,status:Y.Processing}});try{u=await(0,Ee.q$)(o),g=o}catch(e){g=a.getPair(o)}try{const a=await c.signAndSend(g,{signer:u?.signer||void 0},(async c=>{if(function(e,t){return t.isDevelopment?e.isInBlock:e.isFinalized}(c,n)){const n={};if(c.events.forEach((e=>{const{event:t}=e,a=`${t.section}:${t.method}`;n[a]?n[a]++:n[a]=1})),!i(c)){l({...s,[e]:{...r,status:Y.Error,events:n}});let a="Transaction failed";if(c.dispatchError?.isModule){const e=t.registry.findMetaError(c.dispatchError.asModule);a=`${e.section.toUpperCase()}.${e.method}: ${e.docs}`}throw d&&d(c),new Error(a)}m&&await m(c),l({...s,[e]:{...r,status:Y.Success,events:n}}),a(),Ge++}}))}catch(t){l({...s,[e]:{...r,status:Y.Error}}),console.error(t)}}},queue:function(e){return l({...s,[Ge]:{...e,status:Y.Queued,events:{}}}),Ge}};return r.createElement(ze.Provider,{value:c},r.createElement(We,{...c}),e)}const Ke=()=>(0,r.useContext)(ze),Je={theme:"theme"in localStorage?"dark"===localStorage.theme?"dark":"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},Qe=r.createContext(Je),Xe=({children:e})=>{const[t,a]=Ce("theme",Je.theme);return(0,r.useEffect)((()=>{"dark"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[t]),r.createElement(Qe.Provider,{value:{theme:t,setTheme:a}},e)};function et({className:e,name:t,size:a=42,value:n}){const s=function(e){const{keyring:t}=Oe();return(0,r.useMemo)((()=>t&&e&&t?.getAccount(e)||null),[t,e])}(n),l=t||s?.meta.name;return n?r.createElement("div",{className:g("inline-flex items-center",e)},r.createElement(i,{size:a,value:n,className:"pr-2"}),r.createElement("div",{className:"flex-1 block truncate"},l&&r.createElement("span",{className:"flex font-semibold text-base dark:text-gray-300 text-gray-700"},l),r.createElement("p",{className:"text-gray-500 text-xs"},p(n,4)))):null}var tt=a(45006),at=a(58343),rt=a(58057),nt=a(13342);function st(e){return r.createElement(at.c.Control,{...e,className:g(e.className,"min-h-0")})}function lt(e){return r.createElement(at.c.Input,{...e,inputClassName:"dark:text-white outline-none border-none shadow-none focus:ring-transparent"})}function ct({children:e,...t}){return r.createElement(at.c.Option,{...t},r.createElement("span",null,e),t.isSelected&&r.createElement(rt.Z,{className:"selected"}))}function ot(e){return r.createElement(at.c.DropdownIndicator,{...e},r.createElement(nt.Z,null))}function it({className:e="",components:t={},formatOptionLabel:a,isDisabled:n=!1,isSearchable:s=!1,onChange:l,options:c=[],placeholder:o,value:i}){const m=(0,r.useCallback)((e=>{e&&l(e.value)}),[l]),d=(0,r.useMemo)((()=>function(e){try{return!!e&&void 0!==e[0].options}catch(e){return!1}}(c)?c.reduce(((e,{options:t})=>[...e,...t]),[]).find((({value:e})=>e===i)):c.find((({value:e})=>e===i))),[c,i]);return r.createElement(tt.ZP,{className:g("dropdown",e),classNamePrefix:"dropdown",components:{Control:st,DropdownIndicator:ot,Input:lt,Option:ct,...t},formatOptionLabel:a,isDisabled:n,isSearchable:s,onChange:m,options:c,placeholder:o,styles:{dropdownIndicator:e=>({...e,padding:"0.25rem"}),input:e=>({...e,color:"unset"}),option:()=>({})},value:d})}var mt=a(22058),dt=a(49458);function ut({arg:{name:e,type:t},children:a,className:n,value:s,...l}){const{api:c}=Oe();return r.createElement("span",{className:g("font-mono",n),...l},e?`${e}: `:"",r.createElement("span",null,s?r.createElement("b",null,(o=s).length>20?`${o.substring(0,10)}…${o.substring(o.length-10)}`:o):t.typeName||(0,mt.RH)(c.registry,t)),a);var o}function gt({className:e,message:{args:t,isConstructor:a,isMutating:n,method:s,returnType:l},params:c=[]}){const{api:o}=Oe();return r.createElement("div",{className:g("font-mono",a&&"constructor",e)},r.createElement("span",{className:a?"dark:text-blue-400":"dark:text-yellow-400"},s),"(",t?.map(((e,a)=>r.createElement(ut,{arg:e,key:`${name}-args-${a}`,value:c[a]?c[a]:void 0},a<t.length-1&&", "))),")",!a&&l&&r.createElement(r.Fragment,null,": ",r.createElement("span",null,(0,mt.RH)(o.registry,l))),n&&r.createElement(r.Fragment,null,r.createElement(dt.Z,{className:"inline-block ml-2 w-4 h-4 text-yellow-400"})))}function pt(e){return e.map((e=>({label:e.meta?.name,value:e.address||""})))}function ht({label:e,value:t}){return r.createElement(et,{className:"p-1.5",name:e,value:t})}function ft({isDisabled:e,onChange:t,options:a,placeholder:n="Select Address...",className:s,value:l}){return r.createElement(it,{className:g("account-select",s),isDisabled:e,formatOptionLabel:ht,onChange:t,options:a,placeholder:n,isSearchable:!0,value:l})}function yt({placeholder:e="Select account",...t}){const{keyring:a}=Oe();return r.createElement(ft,{options:pt(a?.getPairs()),placeholder:e,...t})}function Et({placeholder:e="Select address",...t}){const{keyring:a}=Oe(),{myContracts:n}=Ve(),s=(0,r.useMemo)((()=>[{label:"My Accounts",options:pt(a?.getPairs())},...n?.owned&&n.owned.length>0?[{label:"Uploaded Contracts",options:(n?.owned||[]).map((({name:e,address:t})=>({label:e,value:t})))}]:[]]),[a,n?.owned]);return r.createElement(ft,{options:s,placeholder:e,...t})}function bt({children:e,className:t}){return r.createElement("div",{className:g("flex space-x-2",t)},e)}function vt({children:e,className:t="",isDisabled:a=!1,isLoading:n,variant:s="default",...l}){return r.createElement("button",{type:"button",className:g("btn relative",s,t),...a||n?{disabled:!0}:{},...l},n&&r.createElement("div",{style:{borderTopColor:"transparent",left:"calc(50% - 7px)"},className:"w-3.5 h-3.5 absolute border dark:border-white border-solid rounded-full animate-spin"}),r.createElement("div",{className:g("flex",n?"invisible":"")},e))}var xt=a(27608),Nt=a(38945),wt=a(40169),kt=a(93481);const Ct=()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"20px",height:"20px",className:"dark:fill-white fill-black"},r.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),St=()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120",fill:"#4ca2da",width:"20",height:"20",className:"grow-0"},r.createElement("path",{d:"M22.4 57.5h74.8v15.4H22.4z"}),r.createElement("path",{d:"M22.4 37.6h74.8V53H22.4z"}),r.createElement("path",{d:"M85.5 17H34.4c-6.6 0-12 5.5-12 12.3v4h74.8v-4C97.2 22.5 92 17 85.5 17z"}),r.createElement("path",{d:"M22.4 77.3v4c0 6.8 5.4 12.3 12 12.3h32v16.3l15.8-16.3h3.5c6.6 0 12-5.5 12-12.3v-4H22.4z"}));var It=a(56727),At=a(68163);const Ot=({isOpen:e,setIsOpen:t,title:a,children:n})=>{function s(){t(!1)}return r.createElement(r.Fragment,null,r.createElement(It.uT,{appear:!0,show:e,as:r.Fragment},r.createElement(It.Vq,{as:"div",className:"fixed inset-0 z-99 overflow-y-auto ",onClose:s},r.createElement("div",{className:"min-h-screen px-4 text-center"},r.createElement(It.uT.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},r.createElement(It.Vq.Overlay,{className:"fixed inset-0 bg-black dark:opacity-70 opacity-10"})),r.createElement("span",{className:"inline-block h-screen align-middle","aria-hidden":"true"},"​"),r.createElement(It.uT.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},r.createElement("div",{className:"inline-block w-full max-w-lg  my-8 overflow-hidden text-left align-middle transition-all transform opacity-100 dark:bg-gray-900 bg-white shadow-xl rounded-xl"},r.createElement("div",{className:"flex justify-between border-b dark:border-gray-800 border-gray-200"},r.createElement(It.Vq.Title,{as:"h3",className:"text-lg font-bold leading-6 p-6 dark:text-gray-300 text-gray-600"},a),r.createElement(At.Z,{className:"w-4 h-4 mx-6 mt-7 text-gray-500 cursor-pointer","aria-hidden":"true",onClick:s})),r.createElement("div",{className:"px-6"},n)))))))},Tt=({isOpen:e,setIsOpen:t})=>r.createElement(Ot,{isOpen:e,setIsOpen:t,title:"Help"},r.createElement("ul",{className:"dark:text-gray-200 text-gray-600 text-sm"},r.createElement("li",null,r.createElement("a",{className:"group flex w-full justify-between items-center border-b dark:border-gray-800 border-gray-200 dark:text-white text-gray-600",href:"https://paritytech.github.io/ink-docs/",target:"_blank",rel:"noopener noreferrer"},r.createElement("div",{className:"flex py-4"},r.createElement("div",{className:"w-5 mr-2",style:{position:"relative",top:2}},r.createElement(kt.Z,{className:"h-5 w-5 text-indigo-400","aria-hidden":"true"})),r.createElement("div",{className:"flex flex-col"},r.createElement("strong",null,"ink! Docs"),r.createElement("span",{className:"dark:text-gray-400 text-gray-500"},"Read more about the ink! smart contract language."))),r.createElement(wt.Z,{className:"h-4 w-4 dark:text-gray-400 text-gray-500 group-hover:opacity-50"}))),r.createElement("li",null,r.createElement("a",{className:"group flex w-full justify-between items-center border-b dark:border-gray-800 border-gray-200 dark:text-white text-gray-600",href:"https://substrate.stackexchange.com/questions/tagged/smart-contract?sort=Newest",target:"_blank",rel:"noopener noreferrer"},r.createElement("div",{className:"flex py-4"},r.createElement("div",{className:"w-5 mr-2",style:{position:"relative",top:2}},r.createElement(St,null)),r.createElement("div",{className:"flex flex-col"},r.createElement("strong",null,"Stack Exchange"),r.createElement("span",{className:"dark:text-gray-400 text-gray-500"},"Browse through common questions."," "))),r.createElement(wt.Z,{className:"h-4 w-4 dark:text-gray-400 text-gray-500 group-hover:opacity-50"}))),r.createElement("li",null,r.createElement("a",{className:"group flex w-full justify-between items-center",href:"https://github.com/paritytech/contracts-ui",target:"_blank",rel:"noopener noreferrer"},r.createElement("div",{className:"flex py-4"},r.createElement("div",{className:"w-5 mr-2 relative",style:{position:"relative",top:1}},r.createElement(Ct,null)),r.createElement("div",{className:"flex flex-col"},r.createElement("strong",null,"Github Repo"),r.createElement("span",{className:"dark:text-gray-400 text-gray-500"},"Let us know if there is an issue."," "))),r.createElement(wt.Z,{className:"h-4 w-4 dark:text-gray-400 text-gray-500 group-hover:opacity-50"}))))),Dt=({isOpen:e,setIsOpen:t,confirm:a})=>r.createElement(Ot,{isOpen:e,setIsOpen:t,title:"Confirm action"},r.createElement("div",{className:"py-8 dark:text-gray-500 text-gray-400 text-sm"},r.createElement("p",{className:"mb-8"},"You will remove the metadata for this contract instance from browser storage. This operation has no on-chain consequences. ",r.createElement("br",null)," The forget operation only limits your access to the contract on this browser."),r.createElement("button",{title:"Forget contract",className:"flex font-semibold items-center dark:text-gray-300 dark:bg-elevation-1 dark:hover:bg-elevation-2 dark:border-gray-700 text-gray-600 hover:text-gray-400 border h-full p-3 rounded",onClick:()=>a()},r.createElement("p",{className:"mr-2 text-xs"},"Forget contract"),r.createElement(Nt.Z,{className:"w-4 dark:text-gray-500 mr-1 justify-self-end"}))));function Rt({contract:e}){const{api:t}=Oe(),{db:a,refreshUserData:n}=Ve(),[c,o]=(0,r.useState)(!0),[i,m]=(0,r.useState)(!1),d=(0,l.s0)();return(0,r.useEffect)((()=>{pe(t,e.address).then((e=>{o(!!e)})).catch(console.error)}),[t,e.address]),r.createElement("div",{className:"inline-flex dark:text-gray-300 relative h-8 text-xs right-0"},r.createElement("div",{className:"inline-flex h-8"},c?r.createElement(s.rU,{to:`/instantiate/${e.codeHash}`},r.createElement("button",{className:"flex font-semibold items-center mr-2 dark:text-gray-300 dark:bg-elevation-1 dark:hover:bg-elevation-2 dark:border-gray-700 text-gray-600 hover:text-gray-400 border h-full px-3 rounded"},r.createElement(xt.Z,{className:"w-4 dark:text-gray-500 mr-1 justify-self-end","aria-hidden":"true",fontSize:"1.5rem"}),"Reinstantiate")):r.createElement("p",{className:"flex font-semibold items-center mr-3 text-red-400"},`Not found at ${p(e.address)}`),r.createElement("button",{title:"Forget contract",className:"flex font-semibold items-center dark:text-gray-300 dark:bg-elevation-1 dark:hover:bg-elevation-2 dark:border-gray-700 text-gray-600 hover:text-gray-400 border h-full px-3 rounded",onClick:()=>{m(!0)}},r.createElement(Nt.Z,{className:"w-4 dark:text-gray-500 mr-1 justify-self-end"}))),r.createElement(Dt,{setIsOpen:m,isOpen:i,confirm:async()=>{await async function(e,t,a=!0){try{const r=await _(e,t);return r&&(await M(e).delete(r._id),a&&B.Nn.forgetContract(t)),Promise.resolve()}catch(e){return Promise.reject(e)}}(a,e.address).catch(console.error),n(),d("/")}}))}function Vt({children:e,isLoading:t,message:a="Loading..."}){return t?r.createElement("div",{className:"text-lg my-32 font-bolder w-full h-full max-w-5xl flex flex-col items-center"},r.createElement(qe,{className:"mb-3"}),r.createElement("div",null,a)):r.createElement(r.Fragment,null,e)}function $t({accessory:e,label:t,percentage:a,withAccessory:n}){return r.createElement("div",{className:"relative pt-2"},r.createElement("div",{className:"text-gray-500 text-xs pb-2"},t,n&&r.createElement("div",{className:"float-right"},e)),r.createElement("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded dark:bg-gray-700 bg-gray-200"},r.createElement("div",{style:{width:`${a}%`},className:g("shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center",a<=100?"bg-green-400":"bg-red-400")})))}function Ft({children:e,className:t,onChange:a,value:n}){return r.createElement(It.rs,{checked:n,className:g(n?"bg-green-500":"bg-gray-700","relative inline-flex flex-shrink-0 w-8 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",t),onChange:a},r.createElement("span",{className:"sr-only"},e),r.createElement("span",{"aria-hidden":"true",className:g(n?"translate-x-3.5":"translate-x-0","pointer-events-none inline-block h-3.5 w-3.5 rounded-full bg-white shadow-lg transform ring-0 transition ease-in-out duration-200")}))}function Ht({children:e,index:t,setIndex:a,tabs:n}){return r.createElement(r.Fragment,null,r.createElement("div",{className:"grid grid-cols-12 w-full"},r.createElement("ul",{className:"routed-tabs col-span-6 lg:col-span-7 2xl:col-span-8"},n.map((({id:e,label:n},s)=>r.createElement("li",{key:e,className:"mr-1"},r.createElement("button",{onClick:()=>a(s),className:g("tab",t===s&&"active")},n)))))),e.map(((e,a)=>r.createElement("div",{key:`child-${a}`,className:t!==a?"hidden":"block"},e))))}var Mt=a(92027);function Pt({icon:e,name:t,identifier:a,onClick:n}){return r.createElement("div",{className:"group item",onClick:n},r.createElement("div",null,r.createElement(e,{className:"dark:group-hover:text-white"})),r.createElement("span",{className:"name dark:group-hover:text-white"},t),r.createElement("span",{className:"identifier dark:group-hover:text-white"},a))}function jt({className:e,contracts:t,codeBundles:a,isOpen:n,onSelectCodeBundle:s,onSelectContract:l}){return r.createElement("div",{className:g("search-results",!n&&"invisible",e)},l&&r.createElement(r.Fragment,null,r.createElement("div",{className:"header"},"Contracts"),t&&t?.length>0&&t.map((e=>r.createElement(Pt,{icon:Mt.Z,identifier:e.address,key:e.address,name:e.name,onMouseDown:e=>{e.preventDefault()},onClick:()=>l(e)}))),!t||0===t.length&&r.createElement("div",{className:"text-sm"},"No matches found.")),s&&r.createElement(r.Fragment,null,r.createElement("div",{className:"header"},"Code Bundles"),a&&a?.length>0&&a.map((e=>r.createElement(Pt,{icon:Mt.Z,identifier:e.codeHash,key:e.codeHash,name:e.name,onMouseDown:e=>{e.preventDefault()},onClick:()=>{s(e)}}))),!a||0===a.length&&r.createElement("div",{className:"text-sm"},"No matches found.")))}function Lt({contract:{address:e,name:t,date:a}}){const{api:n}=Oe(),[l,c]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{pe(n,e).then((e=>{c(!!e)})).catch(console.error)}),[e,n]),r.createElement(s.rU,{to:`/contract/${e}`,className:"text-sm inline-flex items-center cursor-pointer w-full hover:bg-gray-50 dark:hover:bg-elevation-1 border p-3 border-t-0 border-r-0 border-l-0 last:border-b-0 dark:text-white dark:border-gray-700 border-gray-200"},r.createElement(i,{size:18,value:e,className:"pr-2"}),r.createElement("div",{className:"w-36"},t),l?r.createElement("div",{className:"flex-grow text-gray-500 dark:text-gray-400"},e.slice(0,4),"...",e.slice(-4)):r.createElement("div",{className:"text-gray-500 dark:text-gray-400 text-xs flex-grow mr-3"},"not on-chain"),r.createElement("div",{className:"w-14 text-gray-500 dark:text-gray-400"},h(a)))}const Ut=({children:e,className:t,header:a,emptyView:n=""})=>r.createElement("div",{className:g("mb-8 border rounded-md border-gray-200 dark:border-gray-700",t)},r.createElement("div",{className:"text-sm rounded-t-md border-b dark:text-gray-300 text-gray-600 border-gray-200 dark:border-gray-700 dark:bg-elevation-1 p-4"},a),r.createElement("div",null,e,(!e||0===e.length)&&r.createElement("p",{className:"p-4 text-gray-400 text-xs"},n||"")));var Zt=a(85706),Bt=a(26219),qt=a(17003);const _t=({result:{time:e,data:t,message:a,error:n},date:s})=>{const{api:l}=Oe();return r.createElement("div",{key:`${e}`,className:"text-xs dark:text-gray-400 text-gray-600 break-all p-4 border-b border-gray-200 dark:border-gray-700","data-cy":a.method},r.createElement("div",{className:"mb-2"},s),r.createElement("div",null,r.createElement("div",{className:"mb-2"},r.createElement(gt,{message:a})),r.createElement("div",{className:"dark:bg-elevation-1 bg-gray-200 p-2 rounded-sm text-mono return-value"},`${a.returnType&&"u128"===(0,mt.RH)(l.registry,a.returnType)&&(0,qt.H)(t)?me(l,t):t}`)),n&&r.createElement(Zt.D,{children:n.docs.join("\r\n"),remarkPlugins:[Bt.Z],className:"markdown mt-4"}))},Wt=({result:{isComplete:e,time:t,message:a,error:n,log:s},date:l})=>r.createElement("div",{key:`${t}`,className:"text-xs dark:text-gray-400 text-gray-600 break-all p-4 border-b border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"flex-col"},r.createElement("div",{className:"mb-2"},l),r.createElement(gt,{message:a}),!e&&r.createElement(qe,{width:4,strokeWidth:2,color:"gray-600",className:"mt-2"}),e&&r.createElement(r.Fragment,null,r.createElement("div",{className:"flex-col items-start mb-2 mt-4"},r.createElement("div",{className:"event-log"},s.map(((e,t)=>r.createElement("p",{key:t,className:"mb-2"},e)))))),n&&r.createElement(r.Fragment,null,r.createElement("span",{className:"mb-2"},`${n.section}:${n.method}`),r.createElement(Zt.D,{children:n.docs.join("\r\n"),remarkPlugins:[Bt.Z],className:"markdown mt-2"})))),Gt=({results:e})=>r.createElement(Ut,{header:"Call Results",emptyView:"No results yet."},e.map((e=>{const{message:{isMutating:t,isPayable:a},time:n}=e,s=new Date(n).toLocaleString();return t||a?r.createElement(Wt,{key:n,result:e,date:s}):r.createElement(_t,{key:n,result:e,date:s})})).reverse());var zt=a(62784),Yt=a(84323);function Kt(e,t,a){if(!t)return Jt;let r;try{return r=new ne.P(t,a?.registry.getChainProperties()),{source:t,name:e.name||r.info.contract.name.toString(),value:r,isSupplied:!0,...Qt(r,e)}}catch(a){return console.error(a),{source:t,name:"",value:r,isSupplied:!0,...Qt(r,e)}}}const Jt={isError:!1,isSupplied:!1,isValid:!1,name:"",message:null};function Qt(e,{isWasmRequired:t}){if(!e)return{isValid:!1,isError:!0,message:"Invalid contract file format. Please upload the generated .contract bundle for your smart contract."};const a=e.info.source.wasm,r=a.isEmpty,n=!(0,zt.F)(a.toU8a());return t&&(r||n)?{isValid:!1,isError:!0,message:"This contract bundle has an empty or invalid WASM field."}:{isValid:!0,isError:!1,isSuccess:!0,message:t?"Valid contract bundle!":"Valid metadata file!"}}const Xt={data:null,error:null,isLoading:!0,isValid:!0,updated:0};function ea(e,t=(e=>!!e)){const{isDbReady:a}=Ve(),[n,s]=(0,r.useState)(Xt),l=(0,r.useCallback)((()=>{a&&e().then((e=>{s((a=>({...a,data:e,error:null,isLoading:!1,isValid:t(e),updated:Date.now()})))})).catch((e=>{s((t=>({...t,data:null,error:e.message||"Error",isLoading:!1,isValid:!1,updated:Date.now()}))),console.error(e)}))}),[a,e]),c=(0,r.useCallback)((()=>{s((e=>({...e,error:null,isLoading:!0,isValid:!0}))),l()}),[l]);return(0,r.useEffect)((()=>{l()}),[l]),{...n,refresh:c}}function ta(e){const{db:t}=Ve();return ea((0,r.useCallback)((async()=>{if((a=e)&&/^0x[0-9a-fA-F]{64}$/.test(a)){const a=await async function(e,t){return await H(e).findOne({codeHash:t})||null}(t,e);return{document:a}}var a;return{document:null}}),[e,t]),(e=>!!e))}var aa=a(38264),ra=a(68715),na=a(96168);function sa({isError:e,isSuccess:t,isValid:a,isWarning:r,message:n}){return{isError:e,isSuccess:t,isValid:a,isWarning:r,message:n}}function la({children:e,className:t,help:a,id:n,isError:s,isSuccess:l,isWarning:c,label:o,message:i}){const m=(0,r.useMemo)((()=>i?s?"error":c?"warning":l?"success":null:null),[s,l,c,i]);return r.createElement("div",{className:g("form-field",t)},o&&r.createElement("label",{"data-tip":a,htmlFor:n},o,a&&r.createElement(r.Fragment,null,r.createElement(aa.Z,{"data-tip":!0,"data-for":`formFieldHelp-${n}`}),r.createElement(na.Z,{id:`formFieldHelp-${n}`},a))),e,i&&m&&r.createElement("div",{className:g("validation",m&&m)},["error","warning"].includes(m)&&r.createElement(Ze.Z,null),"success"===m&&r.createElement(ra.Z,null),i))}function ca({className:e,children:t,...a}){return r.createElement("div",{className:g("mb-10",e),...a},t)}function oa({children:e,className:t,isDisabled:a=!1,isError:n=!1,onChange:s,placeholder:l,value:c,onFocus:o}){return r.createElement("div",{className:g(n&&"isError",t)},r.createElement("input",{onChange:function(e){s(e.target.value)},onFocus:o,type:"text",value:c||"",className:g("w-full dark:bg-gray-900 dark:text-gray-300 bg-white dark:border-gray-700 border-gray-200 rounded text-sm",a&&"dark:text-gray-500"),placeholder:l,...a?{disabled:!0}:{}}),e)}const ia=r.memo((function({children:e,className:t,isDisabled:a,placeholder:n,value:s,onChange:l,withUnits:c=!0}){const{api:o,tokenSymbol:i}=Oe(),[m,d]=(0,r.useState)(function(e,t){return t?function(e){return e?e.toString():""}(me(e,t||ee.nw)):""}(o,s)),u=(0,r.useCallback)((e=>{d(e);const t=ie(o,e);l(t)}),[l,o]);return r.createElement(r.Fragment,null,r.createElement("div",{className:g("relative rounded-md shadow-sm",t)},r.createElement(oa,{isDisabled:a,onChange:u,onFocus:e=>e.target.select(),placeholder:n,pattern:"^\\d*\\.?\\d*?$",value:m},c&&r.createElement("div",{className:"absolute inset-y-0 right-0 flex items-center"},r.createElement("span",{className:"text-gray-500 sm:text-sm mr-7"},i)),e)))}));var ma=a(14265),da=a(56432),ua=a(51787),ga=a(63707);const pa="0".charCodeAt(0),ha="x".charCodeAt(0),fa=()=>{};function ya({className:e="",errorMessage:t,value:a,isError:n,onChange:s,placeholder:l,onRemove:c}){const o=(0,r.createRef)(),[i,m]=(0,r.useState)(a),d=(0,r.useCallback)((e=>{e.forEach((e=>{const t=new FileReader;t.onabort=fa,t.onerror=fa,t.onload=({target:t})=>{if(t&&t.result){const r=e.name,n=function(e){const t=new Uint8Array(e);if(t[0]===pa&&t[1]===ha){let e=(0,Yt.z)(t);for(;"\n"===e[e.length-1];)e=e.substr(0,e.length-1);if((0,ua.vq)(e))return(0,ga.G)(e)}return t}(t.result),l=n.length;s&&s({data:n,name:r,size:l}),o&&!a&&m({data:n,name:r,size:n.length})}},t.readAsArrayBuffer(e)}))}),[o,s,a]),u=(0,r.useCallback)((()=>{c&&c(),!a&&m(void 0)}),[c,a]);return(0,r.useEffect)((()=>{i!==a&&m(a)}),[i,a]),i?r.createElement("div",{className:`${e} flex`},r.createElement("div",{className:"p-6 border dark:bg-elevation-1 dark:border-gray-700 border-gray-300 inline-flex items-center rounded shadow"},r.createElement(da.Z,{className:"w-7 h-7 mr-2 text-gray-500 justify-self-start","aria-hidden":"true"}),r.createElement("span",{className:"dark:text-gray-300 text-gray-500 text-xs min-w-600 justify-self-start mr-20"},i.name," (",(i.size/1e3).toFixed(2),"kb)"),t&&n&&r.createElement("span",{className:"dark:text-gray-300 text-gray-500 text-xs min-w-600 justify-self-start mr-20"},t),r.createElement(At.Z,{className:"w-5 h-5 mr-2 text-gray-500 justify-self-end cursor-pointer","aria-hidden":"true",onClick:u}))):r.createElement(ma.ZP,{multiple:!1,onDrop:d,ref:o},(({getInputProps:t,getRootProps:a})=>r.createElement("div",{className:e,...a()},r.createElement("label",{className:"dark:text-gray-700 text-gray-400 font-normal py-2 px-4 border dark:border-gray-700 border-gray-200 rounded flex flex-col h-36 items-center cursor-pointer justify-center",htmlFor:"file"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 mb-2 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})),r.createElement("span",{className:"text-sm dark:text-gray-500 text-gray-400"},l)),r.createElement("input",{...t(),"data-cy":"file-input"}))))}function Ea({children:e,isDisabled:t,onChange:a,value:n=ee.nw,...s}){const l=(0,r.useCallback)((e=>{a(new(v())(e))}),[a]);return r.createElement(oa,{isDisabled:t,onChange:l,onFocus:e=>e.target.select(),type:"number",value:n?n.toString():"",...s},e)}function ba({isError:e,onChange:t,value:a,isActive:n=!1,toggleIsActive:s}){return r.createElement("div",{className:"flex items-center"},r.createElement(oa,{className:"flex-1",id:"salt",isDisabled:!n,isError:e,value:n?a:"",onChange:t,placeholder:n?"0x":"Do not use"}),r.createElement("div",{className:"flex justify-center items-center w-18"},r.createElement(Ft,{value:n,onChange:s})))}function va({className:e,estimatedWeight:t,executionTime:a,isActive:n,isCall:s,isValid:l,megaGas:c,percentage:o,setIsActive:i,setMegaGas:m,weight:d,withEstimate:u,...p}){return r.createElement("div",{className:g(e),...p},r.createElement(Ea,{value:c,isDisabled:!n,onChange:e=>{n&&m(e)},placeholder:"MGas"}),r.createElement($t,{accessory:n?r.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),i(!1)},className:"text-green-500"},s?`Use Estimated Gas (${(t||ee.nw).div(ee.uy).add(ee.If).toString()}M)`:"Use Maximum Query Gas"):r.createElement(r.Fragment,null,s?"Using Estimated Gas":"Using Maximum Query Gas"," "," · "," ",r.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),i(!0)},className:"text-green-500"},"Use Custom")),label:`${a<.001?"<0.001":a.toFixed(3)}s execution time (${o.toFixed(2)}% of block time)}`,percentage:o,withAccessory:u}))}var xa=a(93302),Na=a.n(xa),wa=a(66103);function ka({className:e,isActive:t=!1,maximum:a,onChange:n,toggleIsActive:s,value:l,...c}){const o=(0,r.useMemo)((()=>!a||a.eqn(0)?null:100*new(Na())(l.toString()).div(new(Na())(a.toString())).toNumber()),[a,l]);return r.createElement("div",{className:g(e)},r.createElement("div",{className:"flex items-center"},r.createElement(ia,{className:"flex-1",value:t?l:void 0,id:"storageDepositLimit",isDisabled:!t,onChange:n,placeholder:t?void 0:"Do not use",withUnits:t,...sa(c)}),r.createElement("div",{className:"flex justify-center items-center w-18"},r.createElement(Ft,{value:t,onChange:s}))),t&&!(0,wa.F)(o)&&r.createElement($t,{label:(0,J.h)(o)?`${o.toFixed(2)}% of free balance`:null,percentage:(0,J.h)(o)?o:100}))}const Ca=({nestingNumber:e,count:t,type:a})=>0==t?r.createElement(r.Fragment,null,a):r.createElement("div",{className:"flex justify-start"},r.createElement("div",{className:1==t?"dark:text-white text-gray-600":""},"Vec<"),r.createElement(Ca,{nestingNumber:e,count:t-1,type:a}),r.createElement("div",{className:1==t?"dark:text-white text-gray-600":""},">")),Sa=[{value:!1,label:"false"},{value:!0,label:"true"}];function Ia({value:e,onChange:t,...a}){return r.createElement(it,{...a,onChange:t,options:Sa,value:e})}var Aa=a(30145);const Oa=[];function Ta(e,t,a){if(a.info===re.u.Si){const r=e.lookup.getTypeDef(a.lookupIndex);return Ta(e,t,r)}if(a.info===re.u.Option)return null;if(a.info===re.u.Vec)return[Ta(e,t,a.sub)];if(a.info===re.u.Tuple)return Array.isArray(a.sub)?a.sub.map((a=>Ta(e,t,a))):[];if(a.info===re.u.Struct)return Array.isArray(a.sub)?a.sub.reduce(((a,r)=>(a[r.name]=Ta(e,t,r),a)),{}):{};if(a.info===re.u.Enum)return Array.isArray(a.sub)?{[a.sub[0].name]:Ta(e,t,a.sub[0])}:{};const r=[re.u.Compact,re.u.Option].includes(a.info)?a.sub.type:a.type;switch(r){case"AccountIndex":case"Balance":case"BalanceOf":case"BlockNumber":case"Compact":case"Gas":case"Index":case"Nonce":case"ParaId":case"PropIndex":case"ProposalIndex":case"ReferendumIndex":case"i8":case"i16":case"i32":case"i64":case"i128":case"u8":case"u16":case"u32":case"u64":case"u128":case"VoteIndex":case"Moment":return ee.nw;case"bool":return!1;case"Bytes":case"AccountIdOf":case"Address":case"Call":case"CandidateReceipt":case"Digest":case"Header":case"KeyValue":case"LookupSource":case"MisbehaviorReport":case"Proposal":case"Signature":case"SessionKey":case"StorageKey":case"ValidatorId":return;case"String":case"Text":case"Raw":case"Keys":return"";case"Vote":return-1;case"VoteThreshold":return 0;case"BlockHash":case"CodeHash":case"Hash":case"H256":return e.createType("H256");case"H512":return e.createType("H512");case"H160":return e.createType("H160");case"AccountId":return t.getAccounts()[0].address;case"Extrinsic":return e.createType("Raw");case"Null":return null;default:{let n=null;try{const a=e.createType(r),n=(0,Aa.s)(a.toRawType());if((0,qt.H)(a))return ee.nw;if([re.u.Struct].includes(n.info))return;if([re.u.Enum,re.u.Tuple].includes(n.info))return Ta(e,t,n)}catch(e){n=e.message}return Oa.includes(r)||(Oa.push(r),n&&console.error(`params: initValue: ${n}`),console.info(`params: initValue: No default value for type ${r} from ${JSON.stringify(a)}, using defaults`)),"0x"}}}function Da(e){const{components:t,typeDef:a,onChange:n,registry:s,value:l={}}=e,c=a.sub,{keyring:o}=Oe(),[i,m]=(0,r.useState)(Math.max(0,c.findIndex((({name:e})=>e===Object.keys(l)[0])))),d=t[i],u=(0,r.useCallback)((e=>{n({[c[i].name]:e})}),[n,c,i]),g=(0,r.useCallback)((e=>{(0,J.h)(e)&&(m(e),n({[c[e].name]:Ta(s,o,c[e])}))}),[s,o,n,c]);return r.createElement(r.Fragment,null,r.createElement(it,{options:c.map((({name:e},t)=>({label:e,value:t}))),value:i,onChange:g}),"Null"!==c[i].type&&r.createElement(la,{className:"ml-8 mt-2",label:r.createElement(ut,{arg:{type:c[i]}}),...sa(e)},r.createElement(d,{value:Object.values(l)[0],onChange:u})))}function Ra(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e.current}function Va(e=!1,t){const a=Ra(),[n,s]=(0,r.useState)(e),l=(0,r.useCallback)((()=>{s((e=>!e))}),[]);return(0,r.useEffect)((()=>{a&&t&&t(n)}),[a,n,t]),[n,l,s]}function $a({component:e,onChange:t,registry:a,typeDef:n,value:s=null}){const{keyring:l}=Oe(),[c,o]=Va(),i=(0,r.useCallback)((e=>{t(c?e:null)}),[t,c]);return(0,r.useEffect)((()=>{c&&null===s?i(Ta(a,l,n.sub)):c||null===s||i(null)}),[l,a,i,s,c,n.sub]),r.createElement("div",{className:"flex items-start"},c?r.createElement(e,{className:"flex-1",onChange:i,value:s}):r.createElement(oa,{className:"flex-1",isDisabled:!0,onChange:oe,value:"",placeholder:"Do not supply"}),r.createElement("div",{className:"flex justify-center items-center w-18 my-2.5"},r.createElement(Ft,{value:c,onChange:o})))}function Fa(e,t,a=0){if(t.info===re.u.Si)return Fa(e,e.lookup.getTypeDef(t.type));if(t.info===re.u.Option)return a=>r.createElement($a,{component:Fa(e,t.sub),registry:e,typeDef:t,...a});if(t.info===re.u.Enum)return a=>r.createElement(Da,{components:t.sub.map((t=>Fa(e,t))),registry:e,typeDef:t,...a});if(t.info===re.u.Struct&&Array.isArray(t.sub)){const n=t.sub.map((t=>({Component:Fa(e,t,a+1),name:t.name})));return e=>function({components:e,value:t,onChange:a,nestingNumber:n,type:s,...l}){const c=e=>r=>{const n={...t,[e]:r};a(n)},o=n%2!=0;return r.createElement("div",{className:`p-4 text-left text-sm ${o?"dark:bg-gray-900 bg-white":"dark:bg-elevation-1 bg-gray-100"} rounded border dark:border-gray-500 border-gray-200`},e&&e.map((({Component:e,name:a},n)=>r.createElement(r.Fragment,null,r.createElement("label",{className:"block mb-1.5 text-sm font-semibold dark:text-white text-gray-600",key:`${s.name}-label-${n}`,htmlFor:a},a),r.createElement("div",{key:`${s.name}-component-${n}`,className:"mb-4 mr-1"},r.createElement(e,{...l,value:t?t[a]:"",onChange:c(a)}))))))}({...e,components:n,nestingNumber:a,type:t})}if(t.info===re.u.Vec&&t.sub&&!Array.isArray(t.sub)){const n=Fa(e,t.sub,a+1);return e=>function({Component:e,value:t,onChange:a,nestingNumber:n,type:s,...l}){const c=e=>r=>{const n=t.map(((t,a)=>a==e?r:t));a(n)},o=n%2!=0;return r.createElement("div",{className:`p-4 text-left text-sm ${o?"dark:bg-gray-900 bg-white":"dark:bg-elevation-1 bg-gray-100"} rounded border dark:border-gray-500 border-gray-200`},r.createElement("div",{className:"flex justify-between align-middle"},r.createElement("div",{className:"table mt-2 mb-4"},r.createElement("div",{className:"table-cell align-middle font-mono font-bold dark:text-gray-300 text-gray-400"},r.createElement(Ca,{nestingNumber:n,type:s?.sub?.type||"",count:n}))),r.createElement(bt,{className:"flex mt-2 mr-1 mb-4 justify-end"},r.createElement(vt,{className:"w-4",onClick:()=>a([...t,""])},r.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 0.5C5.23869 0.5 5.46761 0.594821 5.6364 0.763604C5.80518 0.932387 5.9 1.16131 5.9 1.4V4.1H8.6C8.83869 4.1 9.06761 4.19482 9.2364 4.3636C9.40518 4.53239 9.5 4.76131 9.5 5C9.5 5.23869 9.40518 5.46761 9.2364 5.6364C9.06761 5.80518 8.83869 5.9 8.6 5.9H5.9V8.6C5.9 8.83869 5.80518 9.06761 5.6364 9.2364C5.46761 9.40518 5.23869 9.5 5 9.5C4.76131 9.5 4.53239 9.40518 4.3636 9.2364C4.19482 9.06761 4.1 8.83869 4.1 8.6V5.9H1.4C1.16131 5.9 0.932387 5.80518 0.763604 5.6364C0.594821 5.46761 0.5 5.23869 0.5 5C0.5 4.76131 0.594821 4.53239 0.763604 4.3636C0.932387 4.19482 1.16131 4.1 1.4 4.1H4.1V1.4C4.1 1.16131 4.19482 0.932387 4.3636 0.763604C4.53239 0.594821 4.76131 0.5 5 0.5Z",fill:"#9597A6"}))),r.createElement(vt,{className:"w-4",onClick:()=>a(t.slice(0,-1))},r.createElement("svg",{width:"10",height:"3",viewBox:"0 0 10 3",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 1.20005C0.5 0.961354 0.594821 0.732436 0.763604 0.563653C0.932387 0.39487 1.16131 0.300049 1.4 0.300049H8.6C8.83869 0.300049 9.06761 0.39487 9.2364 0.563653C9.40518 0.732436 9.5 0.961354 9.5 1.20005C9.5 1.43874 9.40518 1.66766 9.2364 1.83644C9.06761 2.00523 8.83869 2.10005 8.6 2.10005H1.4C1.16131 2.10005 0.932387 2.00523 0.763604 1.83644C0.594821 1.66766 0.5 1.43874 0.5 1.20005Z",fill:"#9597A6"}))))),t&&t.map(((t,a)=>r.createElement("div",{key:`div-${a}`,className:"mb-4 mr-1"},r.createElement(e,{key:`component-${a}`,...l,value:t,onChange:c(a)})))))}({...e,Component:n,nestingNumber:a,type:t})}if(t.info===re.u.Compact)return Fa(e,t.sub);switch(t.type){case"AccountId":case"Address":return Et;case"Balance":return ia;case"bool":return Ia;case"u8":case"i8":case"i32":case"u32":case"i64":case"u64":case"BN":return Ea;default:return oa}}function Ha({args:e,argValues:t,registry:a,setArgValues:n,className:s}){const l=r.useMemo((()=>e.map((e=>({arg:e,Component:Fa(a,e.type)})))),[e,a]);return r.createElement(ca,null,l.map((({arg:e,Component:a})=>r.createElement(la,{className:g(s,e.name,"ml-6 mt-2 mb-4"),key:`${e.name}`,label:r.createElement(ut,{arg:e,className:"dark:text-gray-300 text-gray-600"})},r.createElement(a,{className:"w-full dark:bg-gray-900 dark:text-gray-300 text-gray-600 bg-white dark:border-gray-700 border-gray-200 rounded",id:e.name,value:t[e.name],onChange:t=>{n((a=>({...a,[e.name]:t})))}})))))}function Ma(e,t){const a=Ra(),[n,s]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const r=setTimeout((()=>{a&&s(e)}),t||250);return()=>{clearTimeout(r)}}),[t,e,a]),n}var Pa=a(17445);function ja(e,t){return(0,Pa.Z)((0,d.Z)(e.date),(0,d.Z)(t.date))}var La=a(39281),Ua=a(96313),Za=a(52207);const Ba=new(a.n(Za)())(6e3),qa=ee.D_.div(ee.um);function _a(e,t){return e&&t?function(e,t,a=!0){return(t||le(e)).div(ee.uy).addn(a?1:0)}(e,t):le(e).div(ee.uy).div(ee.aP)}const Wa=e=>{const{api:t}=Oe(),[a]=((e=ee.If,t)=>{const{api:a}=Oe();return(0,r.useMemo)((()=>{const r=(d=t||a)?.consts.babe?.expectedBlockTime||d?.consts.difficulty?.targetBlockTime||(d?.consts.timestamp?.minimumPeriod.gte(qa)?d.consts.timestamp.minimumPeriod.mul(ee.um):d?.query.parachainSystem?Ba.mul(ee.um):Ba),n=r.mul((0,La.G)(e)).toNumber(),s=(0,Ua.E)(Math.abs(n)),{days:l,hours:c,minutes:o,seconds:i}=s,m=[l?l>1?`${l} days`:"1 day":null,c?c>1?`${c} hours`:"1 hr":null,o?o>1?`${o} mins`:"1 min":null,i?i>1?`${i} s`:"1 s":null].filter((e=>!!e)).slice(0,2).join(" ");var d;return[r.toNumber(),`${n<0?"+":""}${m}`,s]}),[a,t,e])})(),[n,s]=(0,r.useState)(_a(t,e)),[l,c]=(0,r.useState)(!!e),o=(0,r.useMemo)((()=>le(t)),[t]),i=(0,r.useCallback)((e=>{s(e||_a(t,null))}),[t]);return(0,r.useEffect)((()=>{l||s(_a(t,e))}),[t,e,l]),(0,r.useMemo)((()=>{let r=0,s=0,m=ee.nw,d=!1;return n&&(m=n.mul(ee.uy),r=m.muln(a).div(le(t)).toNumber(),s=r/a*100,r/=3e3,d=!n.isZero()&&s<65),{defaultWeight:o,estimatedWeight:e,executionTime:r,isActive:l,isValid:!l||d,megaGas:n||ee.nw,percentage:s,setIsActive:c,setMegaGas:i,weight:m}}),[t,a,o,e,l,n,c,i])};var Ga=a(67456),za=a(98278);function Ya(e,t=(e=>({isValid:!(0,wa.F)(e),message:null}))){const[a,n]=(0,r.useState)(e),[s,l]=(0,r.useState)(t(a)),c=(0,r.useRef)(!1),o=(0,r.useMemo)((()=>!!c.current&&!s.isValid),[s.isValid]),i=(0,r.useCallback)((e=>{(0,za.o)(e)||(0,wa.F)(e)||(n(e),l(t(e)),c.current=!0)}),[t]);return(0,r.useMemo)((()=>({value:a,onChange:i,isValid:s.isValid,isTouched:c.current,isWarning:s.isWarning||!1,message:s.message,isError:o})),[a,i,o,s.isValid,s.isWarning,s.message])}function Ka(e=0,{bitLength:t=128,isZeroable:a=!0,maxValue:n}={}){const{api:s}=Oe(),l=(0,r.useCallback)((e=>{let r,s=!1;return e?(e?.lt(ee.nw)&&(s=!0,r="Value cannot be negative"),e?.gt(function(e){return ee.um.pow(new(v())(e||128)).isub(ee.If)}(t))&&(s=!0,r="Value exceeds global maximum"),!a&&e?.isZero()&&(s=!0,r="Value cannot be zero"),e&&e?.bitLength()>(t||128)&&(s=!0,r="Value's bitlength is too high"),n&&n.gtn(0)&&e?.gt(n)&&(s=!0,r=`Value cannot exceed ${(0,Ga.a)(n?.toString())}`),{isError:s,isValid:!s,message:r}):(s=!0,{isError:s})}),[t,a,n]),c=Ya((0,qt.H)(e)?function(e,t){let a;return a=(0,J.h)(t)?new(v())(t):t,a.mul(ee.aP.pow(new(v())(e.registry.chainDecimals[0])))}(s,e):ie(s,e),l);return c}function Ja(e,t,a){const r={};return(a||[]).forEach((({name:a,type:n})=>{r[a]=Ta(e.registry,t,n)})),r}function Qa(e){const{api:t,keyring:a}=Oe(),[n,s]=(0,r.useState)(Ja(t,a,e)),l=(0,r.useRef)(e);return(0,r.useEffect)((()=>{l.current!==e&&(s(Ja(t,a,e)),l.current=e)}),[t,a,e]),[n,s]}function Xa(e="",t=!1){const{keyring:a}=Oe(),n=(0,r.useCallback)((e=>!e?.trim()||t&&!a?.getAccount(e)?{isValid:!1,message:"Specified account does not exist"}:{isValid:!0,message:null}),[a,t]);return Ya(e||a?.getAccounts()[0].address||"",n)}function er(e){const{api:t}=Oe(),[a,n]=(0,r.useState)(null),s=Ka(0,{maxValue:a||void 0});return(0,r.useEffect)((()=>{e&&t.derive.balances.account(e).then((({freeBalance:e})=>n(e))).catch(console.error)}),[e,t]),{...s,maximum:a}}const tr=({contract:e})=>{const{api:t,keyring:a,systemChainType:n}=Oe(),{value:s,onChange:l,...c}=Ya(e.abi.messages[0]),[o,i]=Qa(s?.args||[]),[m,d]=(0,r.useState)([]),{value:u,onChange:g,...p}=Ka(100),{value:h,onChange:f,...y}=Xa(),[E,b]=(0,r.useState)(null),[v,x]=(0,r.useState)(0),[N,w]=(0,r.useState)(1),[k,C]=Va();(0,r.useEffect)((()=>{d([]),w(1),l(e.abi.messages[0])}),[e.address]),(0,r.useEffect)((()=>{if(!h||!s.args||!o)return;const t=a?.getPair(h);!0===s.isMutating?t&&s.isMutating&&e.abi.messages[s.index].method===s.method&&function({contract:e,message:t,payment:a,sender:r,argValues:n}){const{isPayable:s,method:l}=t,c=de(e.registry,t.args,n);return ye(e.query[l],r,{gasLimit:-1,value:s?a:0},c)}({contract:e,message:s,argValues:o,payment:u,sender:t}).then((({gasRequired:e})=>{b(e)})).catch((e=>{console.error(e),b(null)})):b(null)}),[t,h,o,a,s,u,e]);const S=Wa(E),I=er(h),A=de(e.registry,s.args,o),O={gasLimit:S.weight.addn(1),storageDepositLimit:k?I.value:void 0,value:s.isPayable?u||ee.nw:void 0},{queue:T,process:D,txs:R}=Ke(),V=({status:e,dispatchInfo:t,events:a})=>{const r=a.map((({event:e})=>`${e.section}:${e.method}`));d([...m,{id:N,data:null,isComplete:!0,message:s,time:Date.now(),log:r,blockHash:ge(e,n),info:t?.toHuman()}]),w(N+1)},$=({events:t,dispatchError:a,dispatchInfo:r})=>{const n=t.map((({event:e})=>`${e.section}:${e.method}`));d([...m,{id:N,message:s,time:Date.now(),isComplete:!0,data:null,error:a?e.registry.findMetaError(a.asModule):void 0,log:n,info:r?.toHuman()}]),w(N+1)},F=e=>!e.isError&&!e.dispatchError,H=(0,r.useRef)();return(0,r.useEffect)((()=>{(async function(){"queued"===R[v]?.status&&await D(v)})().catch((e=>console.error(e)))}),[D,v,R]),e?r.createElement("div",{className:"grid grid-cols-12 w-full"},r.createElement("div",{className:"col-span-6 lg:col-span-6 2xl:col-span-7 rounded-lg w-full"},r.createElement(ca,null,r.createElement(la,{className:"mb-8",help:"The sending account for this interaction. Any transaction fees will be deducted from this account.",id:"accountId",label:"Account",...y},r.createElement(yt,{id:"accountId",className:"mb-2",value:h,onChange:f})),r.createElement(la,{help:"The message to send to this contract. Parameters are adjusted based on the stored contract metadata.",id:"message",label:"Message to Send",...c},r.createElement(it,{id:"message",options:(M=e.abi.messages,(M||[]).map((e=>({label:r.createElement(gt,{message:e}),value:e})))),className:"constructorDropdown mb-4",onChange:l,value:s},"No messages found"),o&&r.createElement(Ha,{args:s.args||[],registry:e.abi.registry,setArgValues:i,argValues:o})),s.isPayable&&r.createElement(la,{help:"The balance to transfer to the contract as part of this call.",id:"value",label:"Payment",...p},r.createElement(ia,{value:u,onChange:g,placeholder:"Value"})),r.createElement(la,{help:"The maximum amount of gas (in millions of units) to use for this contract call. If the call requires more, it will fail.",id:"maxGas",label:"Max Gas Allowed",isError:!S.isValid,message:S.isValid?null:"Invalid gas limit"},r.createElement(va,{isCall:s.isMutating,withEstimate:!0,...S})),r.createElement(la,{help:"The maximum balance allowed to be deducted from the sender account for any additional storage deposit.",id:"storageDepositLimit",label:"Storage Deposit Limit",isError:!I.isValid,message:I.isValid?null:I.message||"Invalid storage deposit limit"},r.createElement(ka,{isActive:k,toggleIsActive:C,...I}))),r.createElement(bt,null,s.isPayable||s.isMutating?r.createElement(vt,{isDisabled:!(S.isValid||!S.isActive||"processing"===R[v]?.status),isLoading:"processing"===R[v]?.status,onClick:()=>{const t=function(e,t,a){return a.length>0?e(t,...a):e(t)}(e.tx[s.method],O,A);t&&h&&(H.current=T({extrinsic:t,accountId:h,onSuccess:V,onError:$,isValid:F}),x(H.current))},variant:"primary"},"Call"):r.createElement(vt,{isDisabled:!(S.isValid||!S.isActive),onClick:async()=>{const{result:t,output:r}=await ye(e.query[s.method],a.getPair(h),O,A);let n;t.isErr&&t.asErr.isModule&&(n=e.registry.findMetaError(t.asErr.asModule)),d([...m,{id:N,log:[],message:s,time:Date.now(),isComplete:!0,data:r,error:n}]),w(N+1)},variant:"primary"},"Read"))),r.createElement("div",{className:"col-span-6 lg:col-span-6 2xl:col-span-5 pl-10 lg:pl-20 w-full"},r.createElement(Gt,{results:m}))):null;var M};var ar=a(74685);const rr=({message:e,message:{docs:t}})=>r.createElement(It.pJ,{defaultOpen:!0},(({open:a})=>r.createElement("div",{className:"collapsible-panel"},r.createElement(It.pJ.Button,{className:"panel-title text-xs leading-normal text-left p-3 dark:bg-elevation-1 text-mono flex w-full"},r.createElement(ar.Z,{className:(a?"transform rotate-180":"")+" w-5 h-5 mr-1 border-gray-500"}),r.createElement(gt,{message:e})),r.createElement(It.pJ.Panel,{className:"panel-body p-4 markdown border-t dark:border-gray-700 border-gray-200"},t.length?r.createElement(Zt.D,{remarkPlugins:[Bt.Z]},t.join("\r\n")):r.createElement("i",null,"No documentation provided"))))),nr=({abi:e})=>e?r.createElement("div",{className:"grid grid-cols-12 w-full"},r.createElement("div",{className:"col-span-6 lg:col-span-7 2xl:col-span-8 rounded-lg w-full"},e.constructors.concat(e.messages).map((e=>r.createElement(rr,{key:e.identifier,message:e}))))):null;var sr=a(62550);function lr(){const{data:e,isLoading:t}=function(){const{db:e}=Ve();return ea((0,r.useCallback)((()=>async function(e){return M(e).find({}).toArray()}(e)),[e]))}();return t?null:e&&0!==e.length?r.createElement("div",{className:"border border-collapse overflow-hidden dark:border-gray-700 border-gray-200 rounded w-auto"},e?.map((e=>r.createElement(Lt,{contract:e,key:`contract-${e.address}`})))):r.createElement("div",{className:"flex flex-col items-center space-y-2 text-sm border dark:text-gray-500 dark:border-gray-700  rounded py-7 px-5"},r.createElement(sr.Z,{className:"w-8 h-8"}),r.createElement("div",null,"No contracts found on this chain."),r.createElement(s.rU,{to:"/instantiate"},"Upload a new contract"))}function cr(){const[e,t]=Ce("closedHelpBox",!1),a=(0,r.useCallback)((()=>{t(!0)}),[t]);return e?null:r.createElement("div",{className:"mb-8 pb-8 border-b border-gray-200 dark:border-gray-800"},r.createElement("div",{className:"relative border p-4 dark:bg-elevation-1 dark:border-gray-800 border-gray-200 rounded w-auto"},r.createElement(je.Z,{className:"w-5 h-5 absolute right-0 top-0 m-1 text-gray-500 justify-self-end cursor-pointer","aria-hidden":"true",onClick:a}),r.createElement("div",{className:"text-sm font-semibold text-blue-500 pb-1"},"Get started writing smart contracts"),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 pb-2"},"Substrate Contracts UI lets you explore and interact with smart contracts written in ink! - a smart contract language based on Rust!"," ",r.createElement("a",{href:"https://paritytech.github.io/ink-docs/",target:"_blank",rel:"noreferrer",className:"text-blue-500"},"Learn more")),r.createElement("div",null,r.createElement("a",{href:"https://github.com/paritytech/ink/tree/master/examples",target:"_blank",rel:"noreferrer"},r.createElement(vt,{className:"border-2 py-1.5 px-3",variant:"default"},"Explore Examples")))))}var or=a(78015);function ir(){const{api:e}=Oe(),[t,a]=(0,r.useState)(0),{data:n}=function(){const{db:e}=Ve();return ea((0,r.useCallback)((()=>async function(e){const t=await H(e).find({}).toArray(),a=(await M(e).find({}).toArray()).length;return{codeBundlesCount:t.length,contractsCount:a,mostPopularCodeBundles:[]}}(e)),[e]))}();(0,r.useEffect)((()=>{let t;return async function(){return e?.rpc.chain.subscribeNewHeads((e=>{a(e.number.toNumber())}))}().then((e=>t=e)).catch(console.error),()=>t()}),[e]);const s=(0,r.useMemo)((()=>({"Highest Block":`#${(0,or.u)(t)}`,Nodes:1,"Code Bundles Uploaded":n?.codeBundlesCount||0,"Contracts Instantiated":n?.contractsCount||0})),[t,n]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"grid grid-cols-4 xl:grid-cols-2 w-full mb-8 pb-8 border-b border-gray-200 dark:border-gray-800"},r.createElement("div",{className:"text-sm mb-4 col-span-4 xl:col-span-2 w-full"},"Chain Metrics"),Object.entries(s).map((([e,t],a)=>r.createElement("div",{key:`entry-${a}`,className:"mb-4"},r.createElement("div",{className:"text-xs mb-1"},e),r.createElement("div",{className:"dark:text-gray-400"},t))))))}function mr({className:e,codeHash:t,error:a,name:n,isError:s,isSuccess:l,onClick:c}){const{api:o}=Oe(),{refreshUserData:i,db:m}=Ve(),[d,u]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{he(o,t).then((e=>{u(!!e)})).catch(console.error)}),[o,t]),r.createElement("div",{className:g("group flex items-center dark:bg-elevation-1 dark:border-gray-700 border p-4 rounded",d&&c&&"cursor-pointer dark:hover:bg-opacity-10 dark:hover:bg-blue-700 dark:hover:border-blue-500",s&&"dark:bg-opacity-20 dark:bg-red-900 dark:border-red-500",l&&d&&"dark:bg-opacity-20 dark:bg-green-900 dark:border-green-500",e),onClick:d&&c?c:void 0},r.createElement("div",{className:g("flex-1",!d&&"opacity-40")},r.createElement("div",{className:"dark:text-white mb-1"},s?"Invalid Code Hash":n||"On-chain Code Hash"),t&&!s&&r.createElement("div",{className:"dark:text-gray-500 text-sm"},"Code hash: ",p(t)),s&&r.createElement("div",{className:"dark:text-gray-500 text-sm"},a)),c&&d&&r.createElement(wt.Z,{className:"h-5 w-5 dark:text-gray-500 text-gray-400 dark:group-hover:border-blue-500"}),!d&&r.createElement(r.Fragment,null,r.createElement("span",{className:"text-red-400 text-xs font-semibold mr-3"},"Not on-chain"),r.createElement("button",{title:"Forget code hash",className:"flex font-semibold items-center dark:text-gray-300 dark:bg-elevation-1 dark:hover:bg-elevation-2 dark:border-gray-700 text-gray-500 hover:text-gray-400 border h-full p-1 rounded",onClick:async()=>{await async function(e,t){try{const a=await H(e).findOne({codeHash:t});return a&&await H(e).delete(a._id),Promise.resolve()}catch(e){return console.error(e),Promise.reject(e)}}(m,t).catch(console.error),i()}},r.createElement(Nt.Z,{className:"w-4 dark:text-gray-500 mr-1 justify-self-end"}))))}function dr({items:e,label:t}){const a=(0,l.s0)(),[n,s]=(0,r.useState)(!1);return 0===e.length?null:r.createElement(la,{label:t},e.slice(0,5*(n?2:1)).map((e=>r.createElement(mr,{className:"mb-2 last:mb-0",name:e.name,codeHash:e.codeHash,key:e.codeHash,onClick:()=>a(`/instantiate/${e.codeHash}`)}))),!n&&e.length>5&&r.createElement("a",{className:"text-xs cursor-pointer dark:text-gray-500 dark:hover:text-gray-300",onClick:()=>s(!0)},"→ Show More"))}function ur(){const{api:e}=Oe(),{data:t}=function(e=1){const{db:t,identity:a}=Ve();return ea((0,r.useCallback)((async()=>(await async function(e,t,a=2){try{const r=await j(e,t);return r?(await H(e).find({owner:r.publicKey}).toArray()).slice(0,a||void 0):[]}catch(e){return console.error(e),Promise.reject(e)}}(t,a,e)).sort(ja)),[t,a,e]))}(10),[a,n]=(0,r.useState)([]);return(0,r.useEffect)((()=>{t&&fe(e,t).then((e=>n(e))).catch(console.error)}),[e,t]),t&&0!==t.length?r.createElement(r.Fragment,null,a.length>0&&r.createElement("div",{className:"text-sm py-4 text-center dark:text-gray-500"},"Or choose from a code hash below"),r.createElement(dr,{items:a,label:"Uploaded Contract Code"})):null}var gr=a(19965);function pr(){const e=(0,l.s0)(),{api:t}=Oe(),[a,n]=(0,r.useState)(""),[s,c]=(0,r.useState)(""),{data:o}=function(e){const{db:t}=Ve(),{api:a}=Oe(),n=(0,r.useCallback)((async()=>{const r=await async function(e,t){return t&&""!==t?await e.dexie.table("CodeBundle").filter((({name:e,codeHash:a})=>{const r=new RegExp(t);return r.test(e)||r.test(a)})).limit(10).toArray():null}(t,e);return await fe(a,r||[])}),[a,t,e]);return ea(n)}(a),{data:i,error:m,isLoading:d,isValid:u}=ta(s),{document:p}=i||{document:null};return(0,r.useEffect)((()=>{s!==a&&(""===a||f(a)?he(t,a).then((e=>c(e?a:""))).catch(console.error):c(""))}),[t,s,a]),(0,r.useEffect)((()=>{s&&n(s)}),[s]),r.createElement(la,{className:"h-36 relative",label:"Look Up Code Hash"},r.createElement(oa,{className:g("relative flex items-center"),onChange:n,placeholder:"Paste a code hash or search for existing code bundles already on-chain",value:a},p&&r.createElement("button",{className:"absolute right-2",onClick:()=>n("")},r.createElement(gr.Z,{className:"w-5 h-5 text-gray-500","aria-hidden":"true"}))),r.createElement(jt,{codeBundles:o,isOpen:!s&&a.length>0,onSelectCodeBundle:e=>{c(e.codeHash)}}),s&&!d&&p&&r.createElement(mr,{className:"mt-1",codeHash:s,error:m,isError:!u,isSuccess:u,name:p?.name||"On-chain Code Exists",onClick:u?()=>e(`/instantiate/${s}`):void 0}))}function hr(){const{api:e}=Oe(),{dryRunResult:t}=Pe(),a=t?.result.isErr&&t?.result.asErr.isModule?e.registry.findMetaError(t?.result.asErr.asModule):null;return r.createElement(Ut,{className:"instantiate-outcome",header:"Predicted Outcome"},r.createElement("div",{className:"body"},r.createElement("div",{className:"row"},r.createElement("div",null,"Gas Required:"),r.createElement("div",null,t?.gasRequired&&r.createElement(r.Fragment,null,(0,or.u)(t.gasRequired)))),r.createElement("div",{className:"row"},r.createElement("div",null,"Gas Consumed:"),r.createElement("div",null,t?.gasConsumed&&r.createElement(r.Fragment,null,(0,or.u)(t.gasConsumed)))),r.createElement("div",{className:"row"},r.createElement("div",null,"Storage Deposit:"),r.createElement("div",null,t?.storageDeposit&&(t.storageDeposit.isCharge?t.storageDeposit.asCharge.eqn(0)?"None":(0,Ga.a)(t.storageDeposit.asCharge,{decimals:12}):"None"))),r.createElement("div",{className:"row h-8"},r.createElement("div",null,"Contract Address:"),r.createElement("div",null,t?.result.isOk?r.createElement(et,{size:26,value:t?.result.asOk.accountId.toString()}):"None")),r.createElement("div",null,t?.result.isOk&&r.createElement("div",{className:"validation success font-bold"},r.createElement(ra.Z,{className:"mr-3"}),"The instantiation will be successful."),a&&t&&r.createElement(r.Fragment,null,r.createElement("div",{className:"validation error text-mono font-bold items-start"},r.createElement(Ze.Z,{className:"mr-3",style:{marginTop:1}}),r.createElement("div",null,r.createElement("p",null,a.name),r.createElement("p",null,a.docs))),t.debugMessage.length>0&&r.createElement("div",{className:"validation error block text-mono break-words pl-4 mt-1"},t.debugMessage.toString())))))}function fr(){const{codeHash:e}=(0,l.UO)(),{stepForward:t,setData:a,data:n,currentStep:s}=Pe(),{value:c,onChange:o,...i}=Xa(),{value:m,onChange:d,...u}=function(e=""){return Ya(e,(0,r.useCallback)((e=>e&&0!==e.length?{isValid:!0}:{isValid:!1,message:"Value cannot be empty"}),[]))}(),{file:g,value:p,isLoading:h,isStored:f,onChange:y,onRemove:E,...b}=(()=>{const e=(0,l.s0)(),{codeHash:t}=(0,l.UO)(),[a,n]=(0,r.useState)(null),s=ta(t||""),c=s.data,o=function(e,t={}){const{api:a}=Oe(),{isWasmRequired:n=!1,...s}=t,[l,c]=(0,r.useState)((()=>Kt({isWasmRequired:n},e,a)));return(0,r.useEffect)((()=>{c(Kt({isWasmRequired:n},e,a))}),[a,e,n]),{...l,onChange:function(e){try{const t=JSON.parse((0,Yt.z)(e.data)),r=e.name.replace(".contract","").replace(".json","").replace("_"," "),l=Kt({isWasmRequired:n,name:r},t,a);c(l),s.onChange&&s.onChange(e,t)}catch(e){console.error(e),c({...Jt,message:"This contract file is not in a valid format.",isError:!0,isSupplied:!0,isValid:!1})}},onRemove:function(){c(Jt),s.onChange&&s.onChange(void 0),s.onRemove&&s.onRemove()}}}(c?.document?.abi,{isWasmRequired:!c,onChange:n}),i=(0,r.useMemo)((()=>!!t&&s.isLoading),[t,s.isLoading]),m=(0,r.useMemo)((()=>!!c?.document),[c?.document]);return(0,r.useEffect)((()=>{t&&!s.isValid&&e(`/instantiate/${t}`)}),[t,s.isValid,e]),{file:a,isLoading:i,isStored:m,...o}})();return(0,r.useEffect)((()=>{p&&!m&&d(p.info.contract.name.toString())}),[p,m,d]),1!==s?null:r.createElement(Vt,{isLoading:h},r.createElement(ca,null,r.createElement(la,{help:"The account to use for this instantiation. The fees and storage deposit will be deducted from this account.",id:"accountId",label:"Account",...i},r.createElement(yt,{id:"accountId",className:"mb-2",value:c,onChange:o})),r.createElement(la,{help:"A name for the new contract to help users distinguish it. Only used for display purposes.",id:"name",label:"Contract Name",...u},r.createElement(oa,{id:"contractName",placeholder:"Give your contract a descriptive name",value:m,onChange:d})),e&&r.createElement(la,{help:"The on-chain code hash that will be reinstantiated as a new contract.",id:"metadata",label:"On-Chain Code"},r.createElement(mr,{codeHash:e,name:m})),(!e||!f)&&r.createElement(la,{help:e&&!f?"The contract metadata JSON file to save for this contract. Constructor and message information will be derived from this file.":"The contract bundle file containing the WASM blob and metadata.",id:"metadata",label:e?"Upload Metadata":"Upload Contract Bundle",...sa(b)},r.createElement(ya,{placeholder:"Click to select or drag and drop to upload file.",onChange:y,onRemove:E,isError:b.isError,value:g}))),r.createElement(bt,null,r.createElement(vt,{isDisabled:!p||!u.isValid||!b.isValid,onClick:function(){a&&a({...n,accountId:c,metadata:p,name:m,codeHash:e}),t&&t()},variant:"primary","data-cy":"next-btn"},"Next")))}function yr(){const{data:{accountId:e,metadata:t},dryRunResult:a,stepBackward:n,currentStep:s,onFinalize:l,onFormChange:c}=Pe(),{value:o,onChange:i,...m}=Ka(1e4),d=Ma(o),[u,g]=(0,r.useState)(null),p=Wa(u),h=Ma(p.weight),f=er(e),y=Ma(f.value),E=Ya((0,te.f)(),(e=>e&&(0,ua.vq)(e)&&66===e.length?{isValid:!0}:{isValid:!1,isError:!0,message:"Invalid hex string"})),b=Ma(E.value),[v,x]=(0,r.useState)(0),[N,w]=(0,r.useState)(),[k,C]=Qa(N?.args||null),S=Ma(k);(0,r.useEffect)((()=>{x(0),t&&w(t.constructors[0])}),[t,x]);const[I,A]=Va(!0),[O,T]=Va();return(0,r.useEffect)((()=>{a?.result.isOk&&a.gasRequired&&!u?.eq(a.gasRequired)&&g(a.gasRequired)}),[a?.result.isOk,a?.result.isErr,a?.gasRequired,u]),(0,r.useEffect)((()=>{c&&c({constructorIndex:v,salt:I?b:null,value:d&&N?.isPayable?d:null,argValues:S,storageDepositLimit:O?y:null,weight:p.isActive?h:p.defaultWeight})}),[c,v,N,b,d,S,y,h,I,O,p.defaultWeight,p.isActive]),(0,r.useEffect)((()=>{t||(g(null),p.setIsActive(!1))}),[t]),2!==s?null:t?r.createElement(r.Fragment,null,r.createElement(ca,null,r.createElement(la,{help:"The constructor to use for this contract deployment.",id:"constructor",label:"Deployment Constructor"},r.createElement(it,{id:"constructor",options:(D=t.constructors,(D||[]).map(((e,t)=>({label:r.createElement(gt,{message:e}),value:t})))),className:"mb-4",value:v,onChange:e=>{(0,J.h)(e)&&(x(e),w(t.constructors[e]))}},"No constructors found"),N&&k&&r.createElement(Ha,{key:`args-${N.method}`,args:N.args,registry:t.registry,setArgValues:C,argValues:k,className:"argument-form"})),N?.isPayable&&r.createElement(la,{help:"The balance to transfer from the `origin` to the newly created contract.",id:"value",label:"Value",...m},r.createElement(ia,{id:"value",value:o,onChange:i})),r.createElement(la,{help:"A hex or string value that acts as a salt for this deployment.",id:"salt",label:"Deployment Salt",...sa(E)},r.createElement(ba,{isActive:I,toggleIsActive:A,...E})),r.createElement(la,{help:"The maximum amount of gas (in millions of units) to use for this instantiation. If the transaction requires more, it will fail.",id:"maxGas",label:"Max Gas Allowed",isError:!p.isValid,message:p.isValid?null:"Invalid gas limit"},r.createElement(va,{isCall:!0,withEstimate:!0,...p})),r.createElement(la,{help:"The maximum balance allowed to be deducted for the new contract's storage deposit.",id:"storageDepositLimit",label:"Storage Deposit Limit",isError:!f.isValid,message:f.isValid?null:f.message||"Invalid storage deposit limit"},r.createElement(ka,{isActive:O,toggleIsActive:T,...f}))),r.createElement(bt,null,r.createElement(vt,{isDisabled:N?.isPayable&&!m.isValid||I&&!E.isValid||!p.isValid||!f.isValid||!N?.method||!k||a&&a.result.isErr,onClick:()=>{l&&l({constructorIndex:v,salt:I?E.value:void 0,value:o,argValues:k,storageDepositLimit:O?f.value:void 0,weight:p.isActive?p.weight:u||p.defaultWeight})},variant:"primary","data-cy":"next-btn"},"Next"),r.createElement(vt,{onClick:n,variant:"default"},"Go Back"))):null;var D}function Er(){const e=Oe(),{codeHash:t}=(0,l.UO)(),{data:a,currentStep:n,onUnFinalize:s,tx:c,onError:o,onInstantiate:i}=Pe(),{accountId:m,value:d,metadata:u,weight:g,name:h,constructorIndex:f}=a,y=u?.constructors[f].isPayable,E=t||u?.info.source.wasmHash.toHex(),[b,v,x,N]=function(e,t,a,n,s){const{queue:l,dismiss:c,process:o,txs:i}=Ke(),[m,d]=(0,r.useState)(0),u=(0,r.useRef)(m),g=(0,r.useMemo)((()=>!(!i[m]||"processing"!==i[m]?.status)),[i,m]),p=(0,r.useCallback)((()=>{m&&o(m)}),[o,m]),h=(0,r.useCallback)((()=>{m&&c(m),d(0)}),[c,m]);return(0,r.useEffect)((()=>{if(e&&t&&0===m){const r=l({extrinsic:e,accountId:t,onSuccess:a,onError:n,isValid:s});d(r),u.current=r}}),[t,e,s,n,a,l,m]),[p,h,!(0,wa.F)(m),g]}(c,a.accountId,i,o,He);return 3!==n?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"review"},r.createElement("div",{className:"field full"},r.createElement("p",{className:"key"},"Account"),r.createElement("div",{className:"value"},r.createElement(et,{value:m}))),r.createElement("div",{className:"field full"},r.createElement("p",{className:"key"},"Name"),r.createElement("p",{className:"value"},h)),y&&d&&r.createElement("div",{className:"field"},r.createElement("p",{className:"key"},"Value"),r.createElement("p",{className:"value"},(0,Ga.a)(d,{decimals:e.tokenDecimals,forceUnit:"-"}))),r.createElement("div",{className:"field"},r.createElement("p",{className:"key"},"Weight"),r.createElement("p",{className:"value"},(0,or.u)(g))),E&&r.createElement("div",{className:"field"},r.createElement("p",{className:"key"},"Code Hash"),r.createElement("p",{className:"value"},p(E))),c?.args[3]&&r.createElement("div",{className:"field"},r.createElement("p",{className:"key"},"Data"),r.createElement("p",{className:"value"},p(c?.args[3].toHex())))),r.createElement(bt,null,r.createElement(vt,{variant:"primary",isDisabled:!x,isLoading:N,onClick:b,"data-cy":"submit-btn"},"Upload and Instantiate"),r.createElement(vt,{onClick:()=>{v(),s&&s()},isDisabled:N},"Go Back")))}function br({steps:e}){const{currentStep:t}=Pe();return r.createElement(r.Fragment,null,e.map((({name:e,index:a})=>{const n=a<=t,s=a===t;return r.createElement("div",{key:`${e}`},a>1?r.createElement("div",{className:"flex justify-center w-6 py-4"},r.createElement("span",{className:"h-8 "+(n?"bg-green-500":"dark:bg-elevation-2 bg-gray-200"),style:{width:"2px"}})):null,r.createElement("div",{className:"flex space-x-4 items-center"},r.createElement("div",{className:g(n?"bg-green-500 text-white":"dark:bg-elevation-2 bg-gray-200 dark:text-white text-gray-600","flex items-center justify-center  text-center text-sm rounded-md w-6 h-6 p-1")},a<t?r.createElement(Ue.Z,{className:"bg-green-500 text-white text-lg rounded-md w-6"}):a),r.createElement("span",{className:g("text-sm",s?"text-gray-400 dark:text-gray-200":"text-gray-500")},e)))})))}const vr=[{name:"Contract Bundle",index:1},{name:"Deployment Info",index:2},{name:"Confirmation",index:3}];function xr(){const{currentStep:e,data:{metadata:t}}=Pe();return r.createElement("div",{className:"flex w-full m-1"},r.createElement("main",{className:"xs:w-full md:flex-1 p-4 md:mr-2"},r.createElement(fr,null),t&&r.createElement(yr,null),r.createElement(Er,null)),r.createElement("aside",{className:"xs:w-full md:w-80"},r.createElement(br,{steps:vr}),e>1&&r.createElement(hr,null)))}var Nr=a(44740),wr=a(24635);function kr(){const[e,t]=(0,r.useState)(!1);return r.createElement("footer",{className:"footer"},r.createElement("div",null,r.createElement("a",{className:"flex content-center text-xs font-medium dark:text-gray-500 text-gray-600 dark:hover:text-gray-300 hover:text-gray-400 cursor-pointer",onClick:()=>t(!0)},r.createElement(Nr.Z,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Help & Feedback"),r.createElement(s.rU,{to:"/settings"},r.createElement(wr.Z,{className:"h-4 w-4 dark:text-gray-500 dark:hover:text-gray-300 text-gray-600 hover:text-gray-400","aria-hidden":"true"}))),r.createElement(Tt,{setIsOpen:t,isOpen:e}))}var Cr=a(75231),Sr=a(3611);function Ir({children:e,icon:t,...a}){return r.createElement(s.OL,{className:"nav-link group",...a},r.createElement(t,{className:"dark:group-hover:text-gray-300 group-hover:text-gray-400"}),e)}function Ar(){return r.createElement("div",{className:"navigation"},r.createElement(Ir,{to:"/add-contract",icon:Cr.Z},"Add New Contract"),r.createElement(Ir,{icon:Sr.Z,to:"/",end:!0},"All Contracts"))}const Or=[{label:"Local Node",value:E.LOCAL},{label:"Canvas",value:E.CANVAS}];function Tr(){const{endpoint:e,status:t}=Oe(),a=(0,l.s0)();return r.createElement("div",{className:"network-and-user"},r.createElement(it,{className:g("chain","READY"===t?"isConnected":"","CONNECTING"===t?"isConnecting":"","ERROR"===t?"isError":""),onChange:e=>{a(`/?rpc=${e}`)},options:Or,value:Or.find((t=>t.value===e))?.value||"ws://127.0.0.1:9944"}))}function Dr(){const{myContracts:e}=Ve();return r.createElement("div",{className:"quick-links"},r.createElement("div",{className:"section your-contracts"},r.createElement("div",{className:"header"},"Your Contracts"),e?.owned&&e?.owned.length>0?e?.owned?.map((({name:e,address:t})=>r.createElement(Ir,{icon:da.Z,key:t,to:`/contract/${t}`},e))):r.createElement("div",{className:"none-yet"},"None yet "," • "," ",r.createElement(s.rU,{to:"/instantiate"},"Upload one"))))}function Rr(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"sidebar"},r.createElement("div",{className:"sidebar-inner"},r.createElement("div",{className:"upper"},r.createElement("nav",{"aria-label":"Sidebar"},r.createElement(Tr,null),r.createElement(Ar,null),r.createElement(Dr,null))),r.createElement(kr,null))))}function Vr({children:e}){const{error:t,status:a,keyringStatus:n}=Oe(),{isDbReady:s}=Ve(),[l,c]=(0,r.useMemo)((()=>t?[!0,"Connection error"]:s?"READY"!==n?[!0,"Loading accounts..."]:"READY"!==a?[!0,"Connecting..."]:[!1,null]:[!0,"Initializing database..."]),[t,n,a,s]);return r.createElement(Vt,{isLoading:l,message:c},e)}var $r=a(2366);function Fr({header:e,help:t,children:a}){return r.createElement(r.Fragment,null,r.createElement("div",{className:"w-full mx-auto"},r.createElement("div",{className:"grid md:grid-cols-12 h-full gap-5 px-5 py-3 m-2"},r.createElement("main",{className:"md:col-span-8 p-4"},r.createElement("div",{className:"space-y-1 border-b pb-6 dark:border-gray-800 border-gray-200"},r.createElement("h1",{className:"text-2.5xl font-semibold dark:text-white text-gray-700"},e),r.createElement("p",{className:"dark:text-gray-400 text-gray-500 text-sm"},t)),r.createElement("div",{className:"flex flex-col py-4 h-full"},r.createElement("div",{className:"-my-2 h-full overflow-x-auto sm:-mx-6 lg:-mx-8"},r.createElement("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8 mt-4"},r.createElement(r.Fragment,null,a))))))))}function Hr({header:e,children:[t,...a]}){return r.createElement(r.Fragment,null,r.createElement("div",{className:"content w-full mx-auto overflow-y-auto"},r.createElement("div",{className:"flex flex-col xl:flex-row px-5 py-3 m-2"},r.createElement("main",{className:"main order-2 lg:pr-8 xl:order-1"},r.createElement("div",{className:"space-y-1 pb-1"},r.createElement("h1",{className:"text-lg font-semibold pb-2 dark:text-white text-gray-700"},e)),r.createElement("div",{className:"flex flex-col"},r.createElement("div",{className:"-my-2 overflow-x-auto sm:-mx-6 xl:-mx-8"},r.createElement("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 xl:px-8"},t)))),r.createElement("aside",{className:"aside flex-none order-1 xl:order-2"},...a))))}function Mr({accessory:e,header:t,help:a,children:n}){return r.createElement(r.Fragment,null,r.createElement("div",{className:"w-full mx-auto overflow-y-auto"},r.createElement("div",{className:"grid md:grid-cols-12 h-full gap-5 px-5 py-3 m-2"},r.createElement("main",{className:"md:col-span-12 p-4"},r.createElement("div",{className:"space-y-1 border-b pb-6 dark:border-gray-800 border-gray-200"},e&&r.createElement("div",{className:"float-right"},e),r.createElement("h1",{className:"text-2xl font-semibold dark:text-white text-gray-700 capitalize"},t),r.createElement("p",{className:"dark:text-gray-400 text-gray-500 text-sm"},a)),r.createElement("div",{className:"flex flex-col py-4 h-full"},r.createElement("div",{className:"-my-2 h-full overflow-x-auto sm:-mx-6 lg:-mx-8"},r.createElement("div",{className:"py-2 align-middle inline-block min-w-full h-full sm:px-6 lg:px-8"},r.createElement("div",{className:"mt-4"},n))))))))}var Pr=a(80943),jr=a(21676);const Lr=[{id:"metadata",label:r.createElement(r.Fragment,null,r.createElement(Pr.Z,null),"Metadata")},{id:"interact",label:r.createElement(r.Fragment,null,r.createElement(jr.Z,null),"Interact")}],Ur=[{label:"Light",value:"light"},{label:"Dark",value:"dark"}];var Zr=a(45894);const Br=document.getElementById("app-root");n.render(r.createElement(s.UT,null,r.createElement(l.Z5,null,r.createElement(l.AW,{path:"/",element:r.createElement((()=>r.createElement(Xe,null,r.createElement(Ae,null,r.createElement(Re,null,r.createElement(Ye,null,r.createElement("div",{className:"relative md:fixed flex min-h-screen inset-0 overflow-hidden dark:bg-gray-900 dark:text-white text-black"},r.createElement(Rr,null),r.createElement(Vr,null,r.createElement(l.j3,null)))))))),null)},r.createElement(l.AW,{index:!0,element:r.createElement((function(){return r.createElement(Hr,{header:"Contracts"},r.createElement(lr,null),r.createElement(cr,null),r.createElement(ir,null))}),null)}),r.createElement(l.AW,{path:"add-contract",element:r.createElement((function(){return r.createElement(Fr,{header:"Add New Contract",help:r.createElement(r.Fragment,null,"You can upload and instantiate new contract code, or use contract code that already exists on-chain.")},r.createElement("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},r.createElement("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},r.createElement("div",{className:"mt-4"},r.createElement("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},r.createElement("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},r.createElement("div",{className:"mt-4"},r.createElement(s.rU,{to:"/instantiate",className:"flex justify-between items-center px-6 py-4 border text-gray-500 dark:border-gray-700 border-gray-200 rounded-md dark:bg-elevation-1 dark:hover:bg-elevation-2 hover:bg-gray-100"},r.createElement("div",{className:"flex items-center text-base dark:text-gray-300 text-gray-500 space-x-2"},r.createElement($r.Z,{className:"h-8 w-8 dark:text-gray-500 text-gray-400 group-hover:text-gray-500"}),r.createElement("span",null,"Upload New Contract Code")),r.createElement(wt.Z,{className:"h-6 w-6 dark:text-gray-500 text-gray-400"})),r.createElement("p",{className:"text-center text-sm text-gray-500 py-6"},"Or"),r.createElement(s.rU,{to:"/hash-lookup",className:"flex justify-between items-center px-6 py-4 border text-gray-500 dark:border-gray-700 border-gray-200 rounded-md dark:bg-elevation-1 dark:hover:bg-elevation-2 hover:bg-gray-100"},r.createElement("div",{className:"flex items-center text-base dark:text-gray-300 text-gray-500 space-x-2"},r.createElement(Mt.Z,{className:"h-8 w-8 dark:text-gray-500 text-gray-400 group-hover:text-gray-500"}),r.createElement("span",null,"Use Existing Contract Code")),r.createElement(wt.Z,{className:"h-6 w-6 dark:text-gray-500 text-gray-400"})))))))))}),null)}),r.createElement(l.AW,{path:"hash-lookup",element:r.createElement((function(){return r.createElement(Fr,{header:"Instantiate Contract from Code Hash",help:r.createElement(r.Fragment,null,"You can upload and instantate new contract code"," ",r.createElement(s.rU,{to:"/instantiate",className:"text-blue-500"},"here"),".")},r.createElement(pr,null),r.createElement(ur,null))}),null)}),r.createElement(l.AW,{path:"/instantiate",element:r.createElement((function(){const{codeHash:e}=(0,l.UO)();return r.createElement("div",{className:"w-full overflow-y-auto overflow-x-hidden px-5 py-3 m-2"},r.createElement("div",{className:"grid md:grid-cols-12 gap-5"},r.createElement("div",{className:"md:col-span-9 p-4"},r.createElement("div",{className:"space-y-1 border-b pb-6 dark:border-gray-800 border-gray-200"},r.createElement("h1",{className:"text-2.5xl font-semibold dark:text-white text-gray-700"},e?"Instantiate Contract from Code Hash":"Upload and Instantiate Contract"),r.createElement("p",{className:"dark:text-gray-400 text-gray-500 text-sm"},e?r.createElement(r.Fragment,null,"You can upload and instantate new contract code"," ",r.createElement(s.rU,{to:"/instantiate",className:"text-blue-500"},"here"),"."):r.createElement(r.Fragment,null,"You can instantiate a new contract from an existing code bundle"," ",r.createElement(s.rU,{to:"/hash-lookup",className:"text-blue-500"},"here"),"."))))),r.createElement(Me,null,r.createElement(xr,null)))}),null)},r.createElement(l.AW,{path:":codeHash"})),r.createElement(l.AW,{path:"/contract/:address/",element:r.createElement((function(){const e=(0,l.s0)(),{api:t}=Oe(),{address:a,activeTab:n="interact"}=(0,l.UO)();if(!a)throw new Error("No address in url");const{data:c,isLoading:o,isValid:i}=function(e){const{api:t}=Oe(),{db:a}=Ve();return ea((0,r.useCallback)((async()=>{const r=await _(a,e);return t&&r?[new K.vM(t,new ne.P(r.abi),e),r]:[null,null]}),[a,e,t]),(e=>!!e&&!!e[0]))}(a),[m,d]=(0,r.useState)(Lr.findIndex((({id:e})=>e===n))||1),[u,g]=(0,r.useState)(!0);if((0,r.useEffect)((()=>{c&&he(t,c[1]?.codeHash||"").then((e=>g(e))).catch(console.error)}),[t,c]),(0,r.useEffect)((()=>{o||i&&c&&c[0]||e("/")}),[c,o,i,e]),!c||!c[0]||!c[1])return null;const[p,f]=c,y=p?.abi.info.contract.name;return r.createElement(Vt,{isLoading:!p&&o},r.createElement(Mr,{accessory:r.createElement(Rt,{contract:f}),header:f.name||y,help:u&&r.createElement(r.Fragment,null,"You instantiated this contract from"," ",r.createElement(s.rU,{to:`/instantiate/${f.codeHash}`,className:"inline-block relative bg-blue-500 text-blue-400 bg-opacity-20 text-xs px-1.5 font-mono rounded"},y)," ","on ",h(f.date))},r.createElement(Ht,{index:m,setIndex:d,tabs:Lr},r.createElement(nr,{abi:p?.abi}),r.createElement(tr,{contract:p}))))}),null)}),r.createElement(l.AW,{path:"/settings",element:r.createElement((function(){const{theme:e,setTheme:t}=(0,r.useContext)(Qe);return r.createElement(Fr,{header:"Settings",help:r.createElement(r.Fragment,null,"Manage settings and preferences.")},r.createElement("div",{className:"pb-10 border-b border-gray-200 dark:border-gray-800 mt-4 dark:text-white text-gray-600"},r.createElement("h2",{className:"text-lg pb-1 mb-2"},"Appearance"),r.createElement("div",{className:"grid grid-cols-12 w-full"},r.createElement("div",{className:"flex flex-col col-span-6 lg:col-span-7 2xl:col-span-8 text-sm"},r.createElement("span",{className:"font-semibold"},"Theme mode"),r.createElement("span",{className:"dark:text-gray-400 text-gray-500"},"Select a display theme")),r.createElement("div",{className:"col-span-6 lg:col-span-5 2xl:col-span-4"},r.createElement(it,{onChange:e=>t&&t(e),options:Ur,value:e})))))}),null)}),r.createElement(l.AW,{path:"*",element:r.createElement((function(){const e=(0,l.s0)();return r.createElement("div",{className:"w-full overflow-y-auto overflow-x-hidden px-5 py-3 m-2 flex justify-center items-center"},r.createElement("div",{className:" w-7/12 h-60 border dark:border-gray-700 grid place-content-center"},r.createElement(Zr.Z,{className:"w-10 h-10 text-green-400 mb-1 justify-self-center"}),r.createElement("p",{className:"text-sm text-gray-300 mb-6"},"This page does not exist."),r.createElement(vt,{onClick:()=>e("/"),variant:"primary",className:"justify-self-center"},"Go Home")))}),null)})))),Br)},95856:()=>{},70573:()=>{},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return r[e].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=r,e=[],s.O=(t,a,r,n)=>{if(!a){var l=1/0;for(m=0;m<e.length;m++){for(var[a,r,n]=e[m],c=!0,o=0;o<a.length;o++)(!1&n||l>=n)&&Object.keys(s.O).every((e=>s.O[e](a[o])))?a.splice(o--,1):(c=!1,n<l&&(l=n));if(c){e.splice(m--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,r,n]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);s.r(n);var l={};t=t||[null,a({}),a([]),a(a)];for(var c=2&r&&e;"object"==typeof c&&!~t.indexOf(c);c=a(c))Object.getOwnPropertyNames(c).forEach((t=>l[t]=()=>e[t]));return l.default=()=>e,s.d(n,l),n},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={522:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,[l,c,o]=a,i=0;if(l.some((t=>0!==e[t]))){for(r in c)s.o(c,r)&&(s.m[r]=c[r]);if(o)var m=o(s)}for(t&&t(a);i<l.length;i++)n=l[i],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(m)},a=self.webpackChunkcontracts_ui=self.webpackChunkcontracts_ui||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=s.O(void 0,[329,454,207,834,952,909,884,977,638,304,642,745,577,683,203],(()=>s(19748)));l=s.O(l)})();